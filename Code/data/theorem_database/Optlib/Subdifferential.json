[
    {
        "theorem_name": "differential_fun",
        "theorem_statement": " (x : E) (f : E ‚Üí ‚Ñù) (u : E)",
        "variable": [
            "variable {E : Type*}",
            "variable [NormedAddCommGroup E]",
            "variable [InnerProductSpace ‚Ñù E]",
            "variable {f g : E ‚Üí ‚Ñù}",
            "variable {x y u v : E}",
            "variable\n  {c : ‚Ñù}\n    /- the general differential function used in the definition -/"
        ],
        "namespaces": [
            "Topology",
            "Set",
            "BigOperators",
            "Filter"
        ],
        "proof_process": "def differential_fun (x : E) (f : E ‚Üí ‚Ñù) (u : E) := fun y ‚Ü¶\n  Real.toEReal\n    ((f y - f x - inner u (y - x)) / ‚Äñy - x‚Äñ)\n      /- the definition of the Frechet subdifferential-/",
        "type": "definition",
        "filename": "Subdifferential"
    },
    {
        "theorem_name": "f_subdifferential",
        "theorem_statement": " (f : E ‚Üí ‚Ñù) (x : E) : Set E",
        "variable": [
            "variable {E : Type*}",
            "variable [NormedAddCommGroup E]",
            "variable [InnerProductSpace ‚Ñù E]",
            "variable {f g : E ‚Üí ‚Ñù}",
            "variable {x y u v : E}",
            "variable\n  {c : ‚Ñù}\n    /- the general differential function used in the definition -/"
        ],
        "namespaces": [
            "Topology",
            "Set",
            "BigOperators",
            "Filter"
        ],
        "proof_process": "def f_subdifferential (f : E ‚Üí ‚Ñù) (x : E) : Set E :=\n  {v : E | liminf (differential_fun x f v) (ùìù[‚â†] x) ‚â• 0}\n    /- the definition of the limit subdifferential-/",
        "type": "definition",
        "filename": "Subdifferential"
    },
    {
        "theorem_name": "subdifferential",
        "theorem_statement": " (f : E ‚Üí ‚Ñù) (x : E) : Set E",
        "variable": [
            "variable {E : Type*}",
            "variable [NormedAddCommGroup E]",
            "variable [InnerProductSpace ‚Ñù E]",
            "variable {f g : E ‚Üí ‚Ñù}",
            "variable {x y u v : E}",
            "variable\n  {c : ‚Ñù}\n    /- the general differential function used in the definition -/"
        ],
        "namespaces": [
            "Topology",
            "Set",
            "BigOperators",
            "Filter"
        ],
        "proof_process": "def subdifferential (f : E ‚Üí ‚Ñù) (x : E) : Set E :=\n  {v‚ÇÄ : E |\n    ‚àÉ u : ‚Ñï ‚Üí E,\n      Tendsto u atTop (ùìù x) ‚àß\n        Tendsto (fun n ‚Ü¶ f (u n)) atTop (ùìù (f x)) ‚àß\n          (‚àÉ v : ‚Ñï ‚Üí E, ‚àÄ n, v n ‚àà f_subdifferential f (u n) ‚àß Tendsto v atTop (ùìù v‚ÇÄ))}\n    /- the domain of the function is the points whose subifferential are non empty -/",
        "type": "definition",
        "filename": "Subdifferential"
    },
    {
        "theorem_name": "active_domain",
        "theorem_statement": " (f : E ‚Üí ‚Ñù) : Set E",
        "variable": [
            "variable {E : Type*}",
            "variable [NormedAddCommGroup E]",
            "variable [InnerProductSpace ‚Ñù E]",
            "variable {f g : E ‚Üí ‚Ñù}",
            "variable {x y u v : E}",
            "variable\n  {c : ‚Ñù}\n    /- the general differential function used in the definition -/"
        ],
        "namespaces": [
            "Topology",
            "Set",
            "BigOperators",
            "Filter"
        ],
        "proof_process": "def active_domain (f : E ‚Üí ‚Ñù) : Set E :=\n  {x | subdifferential f x ‚â† ‚àÖ}\n    /- the critial point of a function -/",
        "type": "definition",
        "filename": "Subdifferential"
    },
    {
        "theorem_name": "critial_point",
        "theorem_statement": " (f : E ‚Üí ‚Ñù) : Set E",
        "variable": [
            "variable {E : Type*}",
            "variable [NormedAddCommGroup E]",
            "variable [InnerProductSpace ‚Ñù E]",
            "variable {f g : E ‚Üí ‚Ñù}",
            "variable {x y u v : E}",
            "variable\n  {c : ‚Ñù}\n    /- the general differential function used in the definition -/"
        ],
        "namespaces": [
            "Topology",
            "Set",
            "BigOperators",
            "Filter"
        ],
        "proof_process": "def critial_point (f : E ‚Üí ‚Ñù) : Set E :=\n  {x | 0 ‚àà subdifferential f x}",
        "type": "definition",
        "filename": "Subdifferential"
    },
    {
        "theorem_name": "has_f_subdiff_iff",
        "theorem_statement": " : u ‚àà f_subdifferential f x ‚Üî ‚àÄ Œµ > 0, ‚àÄ·∂† y in ùìù x, f y - f x - inner u (y - x) ‚â• -Œµ * ‚Äñy - x‚Äñ",
        "variable": [
            "variable {E : Type*}",
            "variable [NormedAddCommGroup E]",
            "variable [InnerProductSpace ‚Ñù E]",
            "variable {f g : E ‚Üí ‚Ñù}",
            "variable {x y u v : E}",
            "variable\n  {c : ‚Ñù}\n    /- the general differential function used in the definition -/"
        ],
        "namespaces": [
            "Topology",
            "Set",
            "BigOperators",
            "Filter"
        ],
        "proof_process": "/-- equivalence of Frechet subdifferential -/\ntheorem has_f_subdiff_iff :\n    u ‚àà f_subdifferential f x ‚Üî ‚àÄ Œµ > 0, ‚àÄ·∂† y in ùìù x, f y - f x - inner u (y - x) ‚â• -Œµ * ‚Äñy - x‚Äñ :=\n  by\n  have h0 :\n    (‚àÄ Œµ > 0, ‚àÄ·∂† y in ùìù[‚â†] x, f y - f x - inner u (y - x) > -Œµ * ‚Äñy - x‚Äñ) ‚Üî\n      ‚àÄ Œµ > 0, ‚àÄ·∂† y in ùìù x, f y - f x - inner u (y - x) ‚â• -Œµ * ‚Äñy - x‚Äñ :=\n    by\n    constructor\n    ¬∑ intro h Œµ Œµpos\n      specialize h Œµ Œµpos\n      rw [eventually_nhdsWithin_iff] at h\n      filter_upwards [h] with y hy\n      by_cases heq : y = x; rw [heq]; simp\n      exact le_of_lt (hy heq)\n    ¬∑ intro h Œµ Œµpos\n      specialize h (Œµ / 2) (by positivity)\n      rw [eventually_nhdsWithin_iff]\n      filter_upwards [h] with y h hy\n      have : 0 < Œµ * ‚Äñy - x‚Äñ := mul_pos Œµpos (norm_sub_pos_iff.2 hy)\n      linarith\n  rw [‚Üê h0]\n  simp only [f_subdifferential, mem_setOf_eq, liminf, limsInf, eventually_map]\n  let sa := {a | ‚àÄ·∂† (y : E) in ùìù[‚â†] x, a ‚â§ differential_fun x f u y}\n  constructor\n  ¬∑ intro (h : 0 ‚â§ sSup sa) Œµ Œµpos\n    have hn : sa.Nonempty := by\n      by_contra hn\n      have : sa = ‚àÖ := not_nonempty_iff_eq_empty.mp hn\n      rw [this, sSup_empty] at h\n      absurd h; exact of_decide_eq_false rfl\n    have hsa : Real.toEReal (-Œµ) < sSup sa := by\n      apply lt_of_lt_of_le _ h\n      rw [EReal.coe_neg']\n      exact neg_neg_iff_pos.mpr Œµpos\n    obtain ‚ü®a, as, ha‚ü© := exists_lt_of_lt_csSup hn hsa\n    rw [mem_setOf_eq] at as\n    apply Eventually.mp as\n    apply eventually_nhdsWithin_of_forall\n    rintro y hy h\n    have := (lt_div_iff‚ÇÄ (norm_sub_pos_iff.2 hy)).1 (EReal.coe_lt_coe_iff.1 (lt_of_lt_of_le ha h))\n    linarith\n  ¬∑ intro h\n    show 0 ‚â§ sSup sa\n    rw [le_sSup_iff]\n    intro b hb\n    rw [mem_upperBounds] at hb\n    contrapose! hb\n    have h' : ‚àÄ Œµ > 0, ‚àÄ·∂† (y : E) in ùìù[‚â†] x, differential_fun x f u y > -Œµ :=\n      by\n      intro Œµ Œµpos\n      by_cases hŒµ : Œµ = ‚ä§\n      ¬∑ filter_upwards with a\n        rw [hŒµ]\n        exact Batteries.compareOfLessAndEq_eq_lt.mp rfl\n      have heq : Œµ.toReal = Œµ := EReal.coe_toReal hŒµ (LT.lt.ne_bot Œµpos)\n      have : 0 < Œµ.toReal := by\n        rw [‚Üê EReal.coe_lt_coe_iff]\n        exact lt_of_lt_of_eq Œµpos (id (Eq.symm heq))\n      specialize h Œµ.toReal this\n      apply Eventually.mp h\n      apply eventually_nhdsWithin_of_forall\n      rintro y hy h\n      rw [‚Üê heq, ‚Üê EReal.coe_neg, differential_fun, gt_iff_lt, EReal.coe_lt_coe_iff]\n      rw [lt_div_iff‚ÇÄ (norm_sub_pos_iff.2 hy)]\n      linarith\n    by_cases hnb : b = ‚ä•\n    ¬∑ use -1\n      constructor\n      ¬∑ specialize h' 1 (zero_lt_one' EReal)\n        filter_upwards [h'] with y\n        exact le_of_lt\n      ¬∑ rw [hnb]\n        exact Batteries.compareOfLessAndEq_eq_lt.mp rfl\n    ¬∑ use b / 2\n      have heq : b.toReal = b := EReal.coe_toReal (LT.lt.ne_top hb) hnb\n      change b < Real.toEReal 0 at hb\n      rw [‚Üê heq, EReal.coe_lt_coe_iff] at hb\n      constructor\n      ¬∑ have : Real.toEReal 0 < -(b / Real.toEReal 2) :=\n          by\n          rw [‚Üê heq, ‚Üê EReal.coe_div, ‚Üê EReal.coe_neg, EReal.coe_lt_coe_iff]\n          linarith\n        specialize h' (-(b / 2)) this\n        simp only [neg_neg] at h'\n        rw [mem_setOf]\n        filter_upwards [h'] with y\n        exact le_of_lt\n      ¬∑ show b < b / Real.toEReal 2\n        rw [‚Üê heq, ‚Üê EReal.coe_div, EReal.coe_lt_coe_iff]\n        linarith",
        "type": "theorem",
        "filename": "Subdifferential"
    },
    {
        "theorem_name": "subdifferential_subset",
        "theorem_statement": " (f : E ‚Üí ‚Ñù) (x : E) : f_subdifferential f x ‚äÜ subdifferential f x",
        "variable": [
            "variable {E : Type*}",
            "variable [NormedAddCommGroup E]",
            "variable [InnerProductSpace ‚Ñù E]",
            "variable {f g : E ‚Üí ‚Ñù}",
            "variable {x y u v : E}",
            "variable\n  {c : ‚Ñù}\n    /- the general differential function used in the definition -/"
        ],
        "namespaces": [
            "Topology",
            "Set",
            "BigOperators",
            "Filter"
        ],
        "proof_process": "/-- frechet subdifferential is a subset of limit subdifferential -/\ntheorem subdifferential_subset (f : E ‚Üí ‚Ñù) (x : E) : f_subdifferential f x ‚äÜ subdifferential f x := fun v vin ‚Ü¶\n  ‚ü®(fun _ ‚Ü¶ x), tendsto_const_nhds, tendsto_const_nhds, ‚ü®fun _ ‚Ü¶ v, fun _ ‚Ü¶ ‚ü®vin, tendsto_const_nhds‚ü©‚ü©‚ü©",
        "type": "theorem",
        "filename": "Subdifferential"
    },
    {
        "theorem_name": "subdifferential_closed",
        "theorem_statement": " (f : E ‚Üí ‚Ñù) (x : E) : IsClosed (subdifferential f x)",
        "variable": [
            "variable {E : Type*}",
            "variable [NormedAddCommGroup E]",
            "variable [InnerProductSpace ‚Ñù E]",
            "variable {f g : E ‚Üí ‚Ñù}",
            "variable {x y u v : E}",
            "variable\n  {c : ‚Ñù}\n    /- the general differential function used in the definition -/"
        ],
        "namespaces": [
            "Topology",
            "Set",
            "BigOperators",
            "Filter"
        ],
        "proof_process": "/-- the limit subdifferential is a convex set -/\ntheorem subdifferential_closed (f : E ‚Üí ‚Ñù) (x : E) : IsClosed (subdifferential f x) :=\n  by\n  apply IsSeqClosed.isClosed\n  intro vn v vnin vntov\n  have h' (xk : ‚Ñï ‚Üí E) (uk : ‚Ñï ‚Üí E) (u : E) (n : ‚Ñï) (npos : 0 < n) (xkt : Tendsto xk atTop (ùìù x))\n    (fxkt : Tendsto (fun k ‚Ü¶ f (xk k)) atTop (ùìù (f x))) (ukt : Tendsto uk atTop (ùìù u)) :\n    ‚àÉ N, ‚Äñ(uk N) - u‚Äñ < 1 / (2 * n) ‚àß ‚Äñ(xk N) - x‚Äñ < 1 / (2 * n) ‚àß ‚Äñ(f (xk N)) - (f x)‚Äñ < 1 / (2 * n) :=\n    by\n    have ttrans (ak : ‚Ñï ‚Üí E) (a : E) (akt : Tendsto ak atTop (ùìù a)) : (‚àÉ N, ‚àÄ k, N ‚â§ k ‚Üí ‚Äñ(ak k) - a‚Äñ < 1 / (2 * n)) :=\n      by\n      rw [tendsto_atTop_nhds] at akt\n      specialize akt (Metric.ball a (1 / (2 * n))) _ _\n      simp; apply Nat.zero_lt_of_ne_zero\n      apply Nat.ne_zero_iff_zero_lt.mpr npos\n      exact Metric.isOpen_ball\n      rcases akt with ‚ü®N, hN‚ü©\n      use N; intro k kge\n      specialize hN k kge\n      exact mem_ball_iff_norm.mp hN\n    have ttransr (ak : ‚Ñï ‚Üí ‚Ñù) (a : ‚Ñù) (akt : Tendsto ak atTop (ùìù (a))) :\n      ‚àÉ N, ‚àÄ k, N ‚â§ k ‚Üí ‚Äñ(ak k) - a‚Äñ < (1 / (2 * n)) :=\n      by\n      rw [tendsto_atTop_nhds] at akt\n      specialize akt (Metric.ball a (1 / (2 * n))) _ _\n      simp; apply Nat.zero_lt_of_ne_zero\n      apply Nat.ne_zero_iff_zero_lt.mpr npos\n      exact Metric.isOpen_ball\n      rcases akt with ‚ü®N, hN‚ü©\n      use N; intro k kge\n      specialize hN k kge\n      exact mem_ball_iff_norm.mp hN\n    rcases ttrans xk x xkt with ‚ü®xkN, hxkN‚ü©\n    rcases ttransr (fun k ‚Ü¶ f (xk k)) (f x) fxkt with ‚ü®fxkN, hfxkN‚ü©\n    rcases ttrans uk u ukt with ‚ü®ukN, hukN‚ü©\n    let N := max (max xkN fxkN) ukN\n    use N\n    constructor\n    ¬∑ specialize hukN N _\n      exact Nat.le_max_right (max xkN fxkN) ukN\n      assumption\n    constructor\n    repeat\n      ¬∑ specialize hxkN N _\n        apply le_trans\n        apply le_max_left xkN fxkN\n        apply le_max_left\n        assumption\n      ¬∑ specialize hfxkN N _\n        apply le_trans\n        apply le_max_right xkN fxkN\n        apply le_max_left\n        assumption\n  rw [subdifferential, mem_setOf] at *\n  have h'' :\n    ‚àÄ (n : ‚Ñï),\n      ‚àÉ (xnk : ‚Ñï ‚Üí E),\n        Tendsto xnk atTop (ùìù x) ‚àß\n          Tendsto (fun k ‚Ü¶ f (xnk k)) atTop (ùìù (f x)) ‚àß\n            (‚àÉ v, ‚àÄ (n_1 : ‚Ñï), v n_1 ‚àà f_subdifferential f (xnk n_1) ‚àß Tendsto v atTop (ùìù (vn n))) :=\n    by\n    intro n; specialize vnin n; rw [mem_setOf] at vnin\n    rcases vnin with ‚ü®xnk, xnkt, fxnkt, other‚ü©\n    use xnk\n  apply Classical.axiomOfChoice at h''\n  rcases h'' with ‚ü®xnk, allh‚ü©\n  let xnkt := fun n ‚Ü¶ (allh n).left\n  let fxnkt := fun n ‚Ü¶ (allh n).right.left\n  let propv := fun n ‚Ü¶ (allh n).right.right\n  apply Classical.axiomOfChoice at propv\n  rcases propv with ‚ü®vnk, allh'‚ü©\n  let vnkt := fun n ‚Ü¶ (allh' n 1).right\n  have npos (n : ‚Ñï) : 0 < n + 1 := by simp\n  let hNn := fun n ‚Ü¶\n    (h' (xnk (n + 1)) (vnk (n + 1)) (vn (n + 1)) (n + 1) (npos n) (xnkt (n + 1)) (fxnkt (n + 1)) (vnkt (n + 1)))\n  apply Classical.axiomOfChoice at hNn\n  rcases hNn with ‚ü®Nn, hNn'‚ü©\n  use fun n ‚Ü¶ (xnk (n + 1)) ((Nn (n)))\n  constructor\n  ¬∑ rw [tendsto_atTop_nhds]\n    intro u xinu uopen\n    rw [Metric.isOpen_iff] at uopen\n    specialize uopen x xinu\n    rcases uopen with ‚ü®Œµ, Œµpos, Œµin‚ü©\n    rcases Real.exists_floor (1 / Œµ) with ‚ü®Œµ', hŒµ', hŒµ''‚ü©\n    have hN : ‚àÉ (N : ‚Ñï), N ‚â§ (1 / Œµ) ‚àß (1 / Œµ) ‚â§ (N + 1) :=\n      by\n      have hN' : ‚àÉ (N : ‚Ñï), N = Œµ' := by\n        refine CanLift.prf Œµ' ?_\n        by_contra Œµneg\n        push_neg at Œµneg\n        specialize hŒµ'' 0 _\n        apply le_of_lt\n        simp at Œµpos; simp\n        apply Œµpos; linarith\n      rcases hN' with ‚ü®N, hN'‚ü©\n      use N\n      have hN'' : (N : ‚Ñù) = (Œµ' : ‚Ñù) :=\n        Eq.symm (Real.ext_cauchy (congrArg Real.cauchy (congrArg Int.cast (id (Eq.symm hN')))))\n      constructor\n      rw [hN'']\n      exact hŒµ'\n      rw [hN'']\n      by_contra this\n      push_neg at this\n      specialize hŒµ'' (Œµ' + 1) _\n      apply le_of_lt\n      simp; simp at this; apply this\n      have this : ¬¨Œµ' + 1 ‚â§ Œµ' := by linarith\n      apply this; apply hŒµ''\n    rcases hN with ‚ü®N, _, Nge‚ü©\n    use (N)\n    intro n nge\n    apply mem_of_subset_of_mem\n    apply Œµin\n    rw [Metric.ball, mem_setOf, dist_eq_norm]\n    apply lt_of_lt_of_le\n    apply (hNn' n).right.left\n    simp; apply le_trans\n    apply le_of_lt\n    apply div_two_lt_of_pos\n    apply inv_pos.mpr\n    linarith\n    apply (inv_le_comm‚ÇÄ _ _).mp\n    simp at Nge\n    apply le_trans\n    apply Nge\n    simp; assumption\n    simp at Œµpos\n    assumption\n    linarith\n  constructor\n  ¬∑ rw [tendsto_atTop_nhds]\n    intro u fxinu uopen\n    rw [Metric.isOpen_iff] at uopen\n    specialize uopen (f x) fxinu\n    rcases uopen with ‚ü®Œµ, Œµpos, Œµin‚ü©\n    rcases Real.exists_floor (1 / Œµ) with ‚ü®Œµ', hŒµ', hŒµ''‚ü©\n    have hN : ‚àÉ (N : ‚Ñï), N ‚â§ (1 / Œµ) ‚àß (1 / Œµ) ‚â§ (N + 1) :=\n      by\n      have hN' : ‚àÉ (N : ‚Ñï), N = Œµ' := by\n        refine CanLift.prf Œµ' ?_\n        by_contra Œµneg\n        push_neg at Œµneg\n        specialize hŒµ'' 0 _\n        apply le_of_lt\n        simp at Œµpos\n        simp\n        apply Œµpos\n        linarith\n      rcases hN' with ‚ü®N, hN'‚ü©\n      use N\n      have hN'' : (N : ‚Ñù) = (Œµ' : ‚Ñù) :=\n        Eq.symm (Real.ext_cauchy (congrArg Real.cauchy (congrArg Int.cast (id (Eq.symm hN')))))\n      constructor\n      rw [hN'']\n      exact hŒµ'\n      rw [hN'']\n      by_contra this\n      push_neg at this\n      specialize hŒµ'' (Œµ' + 1) _\n      apply le_of_lt\n      simp\n      simp at this\n      apply this\n      have this : ¬¨Œµ' + 1 ‚â§ Œµ' := by linarith\n      apply this\n      apply hŒµ''\n    rcases hN with ‚ü®N, _, Nge‚ü©\n    use N\n    intro n nge\n    apply mem_of_subset_of_mem\n    apply Œµin\n    rw [Metric.ball, mem_setOf, dist_eq_norm]\n    apply lt_of_lt_of_le\n    apply (hNn' n).right.right\n    simp\n    apply le_trans\n    apply le_of_lt\n    apply div_two_lt_of_pos\n    apply inv_pos.mpr\n    linarith\n    apply (inv_le_comm‚ÇÄ _ _).mp\n    simp at Nge\n    apply le_trans\n    apply Nge\n    simp; assumption\n    simp at Œµpos\n    assumption\n    linarith\n  ¬∑ use fun n ‚Ü¶ (vnk (n + 1)) ((Nn (n)))\n    intro n\n    constructor\n    specialize allh' (n + 1) (Nn n)\n    apply allh'.left\n    rw [tendsto_atTop_nhds]\n    intro u vinu uopen\n    rw [Metric.isOpen_iff] at uopen\n    specialize uopen (v) vinu\n    rcases uopen with ‚ü®Œµ, Œµpos, Œµin‚ü©\n    rcases Real.exists_floor (1 / Œµ) with ‚ü®Œµ', hŒµ', hŒµ''‚ü©\n    have hN : ‚àÉ (N : ‚Ñï), N ‚â§ (1 / Œµ) ‚àß (1 / Œµ) ‚â§ (N + 1) :=\n      by\n      have hN' : ‚àÉ (N : ‚Ñï), N = Œµ' := by\n        refine CanLift.prf Œµ' ?_\n        by_contra Œµneg\n        push_neg at Œµneg\n        specialize hŒµ'' 0 _\n        apply le_of_lt\n        simp at Œµpos\n        simp\n        apply Œµpos\n        linarith\n      rcases hN' with ‚ü®N, hN'‚ü©\n      use N\n      have hN'' : (N : ‚Ñù) = (Œµ' : ‚Ñù) :=\n        Eq.symm (Real.ext_cauchy (congrArg Real.cauchy (congrArg Int.cast (id (Eq.symm hN')))))\n      constructor\n      rw [hN'']\n      exact hŒµ'\n      rw [hN'']\n      by_contra this\n      push_neg at this\n      specialize hŒµ'' (Œµ' + 1) _\n      apply le_of_lt\n      simp\n      simp at this\n      apply this\n      have this : ¬¨Œµ' + 1 ‚â§ Œµ' := by linarith\n      apply this\n      apply hŒµ''\n    rcases hN with ‚ü®N, Nle, Nge‚ü©\n    let Œ¥ := (1 : ‚Ñù) / (2 * (N + 1))\n    have le' : ‚àÉ N', ‚àÄ k, N' ‚â§ k ‚Üí ‚Äñvn (k + 1) - v‚Äñ < Œ¥ :=\n      by\n      rw [tendsto_atTop_nhds] at vntov\n      specialize vntov (Metric.ball v Œ¥) _ _\n      apply Metric.mem_ball_self\n      refine one_div_pos.mpr ?specialize_1.h.a\n      apply mul_pos\n      simp\n      linarith\n      exact Metric.isOpen_ball\n      rcases vntov with ‚ü®N, hN‚ü©\n      use (N - 1); intro k kge\n      specialize hN (k + 1) _\n      exact Nat.le_add_of_sub_le kge\n      apply mem_ball_iff_norm.mp\n      assumption\n    rcases le' with ‚ü®N', hN'‚ü©\n    use (max N N'); intro n nge\n    apply mem_of_subset_of_mem\n    apply Œµin\n    rw [Metric.ball, mem_setOf, dist_eq_norm]\n    apply lt_of_lt_of_le\n    rw [‚Üê add_sub_cancel (vn (n + 1)) (vnk (n + 1) (Nn n)), add_comm, ‚Üê add_sub]\n    apply lt_of_le_of_lt\n    apply norm_add_le\n    have this : ‚Äñvnk (n + 1) (Nn n) - vn (n + 1)‚Äñ + ‚Äñvn (n + 1) - v‚Äñ < (1 : ‚Ñù) / (N + 1) :=\n      by\n      specialize hN' n _\n      apply le_trans\n      apply le_max_right\n      exact N\n      assumption\n      specialize hNn' n\n      let vnkle := hNn'.left\n      have vnkle' : ‚Äñvnk (n + 1) (Nn n) - vn (n + 1)‚Äñ < Œ¥ :=\n        by\n        apply lt_of_lt_of_le vnkle\n        apply (one_div_le_one_div _ _).mpr\n        simp\n        apply le_trans\n        apply le_max_left\n        apply N'\n        assumption\n        simp\n        exact Nat.cast_add_one_pos n\n        simp\n        exact Nat.cast_add_one_pos N\n      have that : Œ¥ + Œ¥ = 1 / (‚ÜëN + 1) := by rw [‚Üê mul_two, div_mul]; simp\n      rw [‚Üê that]\n      apply add_lt_add\n      repeat' assumption\n    apply this\n    apply (one_div_le _ _).mpr\n    assumption\n    exact Nat.cast_add_one_pos N\n    simp at Œµpos\n    assumption",
        "type": "theorem",
        "filename": "Subdifferential"
    },
    {
        "theorem_name": "f_subdiff_closed",
        "theorem_statement": " (f : E ‚Üí ‚Ñù) (x : E) : IsClosed (f_subdifferential f x)",
        "variable": [
            "variable {E : Type*}",
            "variable [NormedAddCommGroup E]",
            "variable [InnerProductSpace ‚Ñù E]",
            "variable {f g : E ‚Üí ‚Ñù}",
            "variable {x y u v : E}",
            "variable\n  {c : ‚Ñù}\n    /- the general differential function used in the definition -/"
        ],
        "namespaces": [
            "Topology",
            "Set",
            "BigOperators",
            "Filter"
        ],
        "proof_process": "/-- the Frechet subdifferential is a closed set-/\ntheorem f_subdiff_closed (f : E ‚Üí ‚Ñù) (x : E) : IsClosed (f_subdifferential f x) :=\n  by\n  rw [‚Üê isOpen_compl_iff, Metric.isOpen_iff]\n  intro v hv'\n  rw [mem_compl_iff, has_f_subdiff_iff] at hv'; push_neg at hv'\n  rcases hv' with ‚ü®Œµ, Œµpos, hŒµ‚ü©\n  rw [Filter.Eventually, mem_nhds_iff] at hŒµ\n  push_neg at hŒµ\n  have hh : f_subdifferential f x = {u | ‚àÄ Œµ > 0, ‚àÄ·∂† (y : E) in ùìù x, f y - f x - (inner u (y - x)) ‚â• -Œµ * ‚Äñy - x‚Äñ} :=\n    by\n    ext u\n    rw [has_f_subdiff_iff, mem_setOf]\n  rw [hh]\n  by_contra h\n  push_neg at h\n  have Œµ2pos : 0 < (Œµ / 2) := by linarith\n  specialize h (Œµ / 2) Œµ2pos\n  rw [not_subset] at h\n  rcases h with ‚ü®a, amem, anotmem‚ü©\n  rw [not_mem_compl_iff, mem_setOf] at anotmem\n  specialize anotmem (Œµ / 2) Œµ2pos\n  rw [Filter.Eventually, mem_nhds_iff] at anotmem\n  rcases anotmem with ‚ü®ta, tasubset, taopen, xinta‚ü©\n  have tasubset' : ta ‚äÜ {x_1 | f x_1 - f x - (inner v (x_1 - x)) ‚â• -Œµ * ‚Äñx_1 - x‚Äñ} :=\n    by\n    intro y yinta; rw [mem_setOf, ge_iff_le]\n    rw [‚Üê add_sub_cancel a v, inner_add_left, ‚Üê sub_sub, sub_eq_add_neg (f y - f x - inner a (y - x))]\n    have Œµtrans : -Œµ = -(Œµ / 2) + -(Œµ / 2) := by linarith\n    rw [Œµtrans, add_mul]\n    apply add_le_add\n    ¬∑ exact tasubset yinta\n    ¬∑ simp\n      apply le_trans; apply real_inner_le_norm\n      apply mul_le_mul_of_nonneg_right\n      rw [‚Üê dist_eq_norm']\n      rw [Metric.ball, mem_setOf] at amem\n      exact le_of_lt amem\n      apply norm_nonneg\n  specialize hŒµ ta tasubset' taopen\n  apply hŒµ\n  apply xinta",
        "type": "theorem",
        "filename": "Subdifferential"
    },
    {
        "theorem_name": "f_subdiff_convex",
        "theorem_statement": " (f : E ‚Üí ‚Ñù) (x : E) : Convex ‚Ñù (f_subdifferential f x)",
        "variable": [
            "variable {E : Type*}",
            "variable [NormedAddCommGroup E]",
            "variable [InnerProductSpace ‚Ñù E]",
            "variable {f g : E ‚Üí ‚Ñù}",
            "variable {x y u v : E}",
            "variable\n  {c : ‚Ñù}\n    /- the general differential function used in the definition -/"
        ],
        "namespaces": [
            "Topology",
            "Set",
            "BigOperators",
            "Filter"
        ],
        "proof_process": "/-- the Frechet subdifferential is a convex set-/\ntheorem f_subdiff_convex (f : E ‚Üí ‚Ñù) (x : E) : Convex ‚Ñù (f_subdifferential f x) :=\n  by\n  intro u hu v hv a b ha hb hab\n  rw [has_f_subdiff_iff] at *\n  intro Œµ Œµpos\n  filter_upwards [hu _ Œµpos, hv _ Œµpos] with y hyu hyv\n  rw [inner_add_left, real_inner_smul_left, real_inner_smul_left]\n  rw [‚Üê one_mul (f y), ‚Üê one_mul (f x), ‚Üê hab, add_mul, add_mul, sub_add_eq_sub_sub, add_comm, sub_add_eq_sub_sub, ‚Üê\n    add_sub, ‚Üê mul_sub a (f y) (f x), add_comm, ‚Üê add_sub, ‚Üê mul_sub, add_comm, ‚Üê add_sub, ‚Üê mul_sub, add_comm, ‚Üê\n    add_sub, ‚Üê mul_sub]\n  rw [‚Üê one_mul (-Œµ * ‚Äñy - x‚Äñ), ‚Üê hab, add_mul]\n  rw [ge_iff_le] at *\n  apply add_le_add\n  ¬∑ exact mul_le_mul_of_nonneg_left hyu ha\n  ¬∑ exact mul_le_mul_of_nonneg_left hyv hb",
        "type": "theorem",
        "filename": "Subdifferential"
    },
    {
        "theorem_name": "convex_f_f_subdiff_eq_subgradient",
        "theorem_statement": " (f : E ‚Üí ‚Ñù) (x : E) (hconv : ConvexOn ‚Ñù univ f) : f_subdifferential f x = SubderivAt f x",
        "variable": [
            "variable {E : Type*}",
            "variable [NormedAddCommGroup E]",
            "variable [InnerProductSpace ‚Ñù E]",
            "variable {f g : E ‚Üí ‚Ñù}",
            "variable {x y u v : E}",
            "variable\n  {c : ‚Ñù}\n    /- the general differential function used in the definition -/"
        ],
        "namespaces": [
            "Topology",
            "Set",
            "BigOperators",
            "Filter"
        ],
        "proof_process": "/-- if f is a convex function, Frechet subdifferential is equal to subgradient-/\ntheorem convex_f_f_subdiff_eq_subgradient (f : E ‚Üí ‚Ñù) (x : E) (hconv : ConvexOn ‚Ñù univ f) :\n    f_subdifferential f x = SubderivAt f x := by\n  rw [SubderivAt]\n  ext g\n  rw [mem_setOf, HasSubgradientAt]\n  constructor\n  ¬∑ intro hg\n    by_contra h'\n    push_neg at h'\n    rcases h' with ‚ü®y', hy'‚ü©\n    rw [has_f_subdiff_iff] at hg\n    rw [ConvexOn] at hconv\n    rcases hconv with ‚ü®convset, convfun‚ü©\n    have xin : x ‚àà univ := by simp\n    have yin' : y' ‚àà univ := by simp\n    specialize convfun xin yin'\n    have pos : 0 < (1 / 2) * ((f x) + inner g (y' - x) - f y') / ‚Äñy' - x‚Äñ :=\n      by\n      apply div_pos\n      ¬∑ apply mul_pos\n        simp; simp\n        apply hy'\n      ¬∑ apply norm_pos_iff.mpr\n        by_contra yeq'\n        rw [sub_eq_zero] at yeq'\n        rw [yeq'] at hy'\n        simp at hy'\n    rw [‚Üê gt_iff_lt] at pos\n    specialize hg ((1 / 2) * ((f x) + inner g (y' - x) - f y') / ‚Äñy' - x‚Äñ)\n    specialize hg pos\n    simp at hg\n    rw [Filter.Eventually, mem_nhds_iff] at hg\n    rcases hg with ‚ü®T, tin, topen, xint‚ü©\n    let S := {x_1 | ‚àÉ (r : ‚Ñù), 0 < r ‚àß r < 1 ‚àß x_1 = r ‚Ä¢ x + (1 - r) ‚Ä¢ y'}\n    let ST := S ‚à© T\n    have STnonempty : ‚àÉ x_1, x_1 ‚àà ST := by\n      rw [Metric.isOpen_iff] at topen\n      specialize topen x xint\n      rcases topen with ‚ü®Œ¥, posŒ¥, hŒ¥‚ü©\n      let Œ¥' := min Œ¥ ‚Äñy' - x‚Äñ\n      let Œ¥'' := 1 - (1 / 2) * (Œ¥' / ‚Äñy' - x‚Äñ)\n      use (Œ¥'') ‚Ä¢ x + (1 - Œ¥'') ‚Ä¢ y'\n      apply mem_inter\n      ¬∑ rw [mem_setOf]\n        use Œ¥''\n        constructor\n        ¬∑ apply sub_pos_of_lt\n          simp\n          refine (inv_mul_lt_iff‚ÇÄ ?h.left.a.h).mpr ?h.left.a.a\n          ¬∑ simp\n          ¬∑ simp\n            apply lt_of_le_of_lt\n            apply (div_le_one _).mpr\n            apply min_le_right\n            apply norm_pos_iff.mpr\n            by_contra yeq'\n            rw [sub_eq_zero] at yeq'\n            rw [yeq'] at hy'\n            rw [sub_self, inner_zero_right, add_zero, lt_iff_not_le] at hy'\n            apply hy'\n            simp\n            simp\n        constructor\n        ¬∑ change 1 - 1 / 2 * (Œ¥' / ‚Äñy' - x‚Äñ) < 1\n          simp\n          apply div_pos\n          ¬∑ apply lt_min\n            apply posŒ¥\n            apply norm_pos_iff.mpr\n            by_contra yeq'\n            rw [sub_eq_zero] at yeq'\n            rw [yeq'] at hy'\n            rw [sub_self, inner_zero_right, add_zero, lt_iff_not_le] at hy'\n            apply hy'\n            simp\n          ¬∑ apply norm_pos_iff.mpr\n            by_contra yeq'\n            rw [sub_eq_zero] at yeq'\n            rw [yeq'] at hy'\n            rw [sub_self, inner_zero_right, add_zero, lt_iff_not_le] at hy'\n            apply hy'\n            simp\n        simp\n      apply mem_of_subset_of_mem hŒ¥\n      rw [Metric.ball, mem_setOf, dist_eq_norm]\n      have this : Œ¥'' ‚Ä¢ x + (1 - Œ¥'') ‚Ä¢ y' - x = (1 - Œ¥'') ‚Ä¢ (y' - x) :=\n        by\n        rw [smul_sub, sub_smul 1 Œ¥'', sub_smul 1 Œ¥'']\n        rw [add_sub, sub_sub_sub_eq, add_comm (1 ‚Ä¢ y'), one_smul, one_smul]\n        rw [sub_sub]\n      rw [this, norm_smul]\n      simp\n      rw [‚Üê sub_add]; simp\n      rw [abs_eq_self.mpr]\n      rw [mul_assoc]\n      have this : Œ¥' / ‚Äñy' - x‚Äñ * ‚Äñy' - x‚Äñ = Œ¥' :=\n        by\n        have nonzero : ‚Äñy' - x‚Äñ ‚â† 0 := by\n          by_contra yeq'\n          rw [norm_eq_zero, sub_eq_zero] at yeq'\n          rw [yeq'] at hy'\n          rw [sub_self, inner_zero_right, add_zero, lt_iff_not_le] at hy'\n          apply hy'\n          simp\n        refine div_mul_cancel‚ÇÄ Œ¥' nonzero\n      rw [this]\n      refine (inv_mul_lt_iff‚ÇÄ ?h.hb.h).mpr ?h.hb.a\n      simp\n      apply lt_of_le_of_lt\n      apply min_le_left\n      exact lt_two_mul_self posŒ¥\n      simp\n      apply div_nonneg\n      apply le_min\n      linarith\n      apply norm_nonneg\n      apply norm_nonneg\n    rcases STnonempty with ‚ü®x1, hx1‚ü©\n    rw [mem_inter_iff] at hx1\n    rcases hx1 with ‚ü®x1s, x1t‚ü©\n    rw [mem_setOf] at x1s\n    rcases x1s with ‚ü®r, rpos, rltone, x1eq‚ü©\n    have x1in :\n      x1 ‚àà {x_1 | inner g (x_1 - x) ‚â§ f x_1 - f x + 2‚Åª¬π * (f x + inner g (y' - x) - f y') / ‚Äñy' - x‚Äñ * ‚Äñx_1 - x‚Äñ} :=\n      by\n      apply mem_of_subset_of_mem tin\n      assumption\n    rw [mem_setOf, x1eq] at x1in\n    rw [add_comm] at x1in\n    have this : (1 - r) ‚Ä¢ y' + r ‚Ä¢ x - x = (1 - r) ‚Ä¢ (y' - x) :=\n      by\n      rw [smul_sub, sub_smul 1 r, sub_smul 1 r]\n      rw [sub_sub_sub_eq, add_comm (1 ‚Ä¢ y'), one_smul, one_smul, add_comm]\n      rw [add_sub_add_comm, add_sub, add_sub]\n      simp\n      rw [add_comm, add_comm (r ‚Ä¢ x - r ‚Ä¢ y'), add_sub]\n    rw [this] at x1in\n    rw [inner_smul_right, norm_smul] at x1in\n    have rnonneg : 0 ‚â§ r := by linarith\n    have rleone : 0 ‚â§ 1 - r := by linarith\n    have r2pos : 0 < (1 - r) / 2 := by linarith\n    have req : r + (1 - r) = 1 := by simp\n    specialize convfun rnonneg rleone req\n    have nonneg : 0 ‚â§ f y' - f x - inner g (y' - x) :=\n      by\n      apply nonneg_of_mul_nonneg_right _ r2pos\n      rw [mul_sub, ‚Üê sub_self_div_two (1 - r), sub_mul, sub_mul (1 - r)]\n      simp\n      apply le_trans x1in\n      rw [add_comm ((1 - r) ‚Ä¢ y'), sub_add, sub_le_iff_le_add]\n      apply le_trans convfun\n      simp; rw [abs_eq_self.mpr rleone]\n      rw [‚Üê mul_assoc]; rw [‚Üê sub_le_iff_le_add]\n      rw [‚Üê sub_add, add_comm (r * f x), add_comm (f x), ‚Üê add_sub, ‚Üê add_sub, mul_add]\n      nth_rw 2 [‚Üê one_mul (f x)]\n      rw [‚Üê sub_mul]\n      nth_rw 2 [‚Üê neg_sub]\n      rw [neg_mul, ‚Üê sub_eq_add_neg ((1 - r) * f y'), ‚Üê mul_sub, mul_assoc, mul_comm (1 - r) ‚Äñy' - x‚Äñ]\n      rw [‚Üê mul_assoc, div_mul, div_self]\n      simp\n      rw [mul_comm (2‚Åª¬π * inner g (y' - x) + 2‚Åª¬π * (f x - f y')), mul_add,\n        add_comm ((1 - r) * (2‚Åª¬π * inner g (y' - x)))]\n      rw [‚Üê add_assoc, ‚Üê mul_assoc, ‚Üê mul_assoc, inv_eq_one_div]\n      linarith\n      by_contra yeq'\n      rw [norm_eq_zero, sub_eq_zero] at yeq'\n      rw [yeq'] at hy'\n      rw [sub_self, inner_zero_right, add_zero, lt_iff_not_le] at hy'\n      apply hy'\n      simp\n    have nonneg' : ¬¨0 > f y' - f x - inner g (y' - x) := by linarith\n    apply nonneg'\n    simp\n    linarith\n  ¬∑ intro h\n    rw [has_f_subdiff_iff]\n    intro Œµ Œµpos\n    filter_upwards\n    intro y\n    rw [ge_iff_le]\n    apply le_trans\n    simp\n    apply neg_le.mpr\n    have pos : -0 ‚â§ Œµ * ‚Äñy - x‚Äñ := by\n      simp\n      rw [mul_comm]\n      apply (mul_nonneg_iff_left_nonneg_of_pos Œµpos).mpr\n      simp\n    apply pos\n    simp\n    specialize h y\n    simp at h\n    linarith",
        "type": "theorem",
        "filename": "Subdifferential"
    },
    {
        "theorem_name": "f_subdiff_neg_f_subdiff_unique",
        "theorem_statement": " (hu : u ‚àà f_subdifferential f x) (hv : v ‚àà f_subdifferential (-f) x) : u = -v",
        "variable": [
            "variable {E : Type*}",
            "variable [NormedAddCommGroup E]",
            "variable [InnerProductSpace ‚Ñù E]",
            "variable {f g : E ‚Üí ‚Ñù}",
            "variable {x y u v : E}",
            "variable\n  {c : ‚Ñù}\n    /- the general differential function used in the definition -/"
        ],
        "namespaces": [
            "Topology",
            "Set",
            "BigOperators",
            "Filter"
        ],
        "proof_process": "/-- correlation of the Frechet subdifferential between negative function -/\ntheorem f_subdiff_neg_f_subdiff_unique (hu : u ‚àà f_subdifferential f x) (hv : v ‚àà f_subdifferential (-f) x) : u = -v :=\n  by\n  rw [has_f_subdiff_iff] at *\n  have h : ‚àÄ Œµ > 0, ‚àÄ·∂† y in ùìù x, inner (u + v) (y - x) ‚â§ Œµ * ‚Äñy - x‚Äñ :=\n    by\n    intro Œµ Œµpos\n    have Œµ2pos : 0 < Œµ / 2 := by positivity\n    filter_upwards [hu _ Œµ2pos, hv _ Œµ2pos] with y huy hvy\n    rw [InnerProductSpace.add_left]\n    simp only [Pi.neg_apply, sub_neg_eq_add] at hvy\n    linarith\n  by_cases heq : u + v = 0; exact eq_neg_of_add_eq_zero_left heq\n  apply eq_of_forall_dist_le\n  rw [dist_eq_norm, sub_neg_eq_add]\n  intro Œµ Œµpos\n  specialize h Œµ Œµpos\n  rw [Metric.eventually_nhds_iff_ball] at h\n  obtain ‚ü®Œ¥, Œ¥pos, hd‚ü© := h\n  have hne := norm_ne_zero_iff.mpr heq\n  have hb : x + (Œ¥ / 2 / ‚Äñu + v‚Äñ) ‚Ä¢ (u + v) ‚àà Metric.ball x Œ¥ :=\n    by\n    rw [mem_ball_iff_norm', sub_add_cancel_left]\n    rw [norm_neg, norm_smul, Real.norm_eq_abs, abs_div, abs_norm]\n    rw [div_mul_cancel‚ÇÄ _ hne, abs_of_nonneg (by positivity)]\n    linarith\n  specialize hd (x + ((Œ¥ / 2) / ‚Äñu + v‚Äñ) ‚Ä¢ (u + v)) hb\n  rw [add_sub_cancel_left, inner_smul_right, norm_smul, Real.norm_eq_abs, abs_div, abs_norm] at hd\n  rw [real_inner_self_eq_norm_mul_norm, ‚Üê mul_assoc, div_mul_cancel‚ÇÄ _ hne] at hd\n  rw [div_mul_cancel‚ÇÄ _ hne, abs_of_nonneg (by positivity), mul_comm] at hd\n  exact le_of_mul_le_mul_right hd (by positivity)",
        "type": "theorem",
        "filename": "Subdifferential"
    },
    {
        "theorem_name": "f_subdiff_add",
        "theorem_statement": " (hf : u ‚àà f_subdifferential f x) (hg : v ‚àà f_subdifferential g x) : u + v ‚àà f_subdifferential (f + g) x",
        "variable": [
            "variable {E : Type*}",
            "variable [NormedAddCommGroup E]",
            "variable [InnerProductSpace ‚Ñù E]",
            "variable {f g : E ‚Üí ‚Ñù}",
            "variable {x y u v : E}",
            "variable\n  {c : ‚Ñù}\n    /- the general differential function used in the definition -/"
        ],
        "namespaces": [
            "Topology",
            "Set",
            "BigOperators",
            "Filter"
        ],
        "proof_process": "/-- the calculation rule for addition -/\ntheorem f_subdiff_add (hf : u ‚àà f_subdifferential f x) (hg : v ‚àà f_subdifferential g x) :\n    u + v ‚àà f_subdifferential (f + g) x := by\n  rw [has_f_subdiff_iff] at *\n  intro Œµ Œµpos\n  have Œµ2pos : 0 < Œµ / 2 := by positivity\n  filter_upwards [hf _ Œµ2pos, hg _ Œµ2pos] with y hfy hgy\n  simp only [Pi.add_apply, neg_mul, ge_iff_le, neg_le_sub_iff_le_add]\n  rw [InnerProductSpace.add_left]\n  linarith",
        "type": "theorem",
        "filename": "Subdifferential"
    },
    {
        "theorem_name": "f_subdiff_smul",
        "theorem_statement": " (h : u ‚àà f_subdifferential (c ‚Ä¢ f) x) (cpos : 0 < c) : c‚Åª¬π ‚Ä¢ u ‚àà f_subdifferential f x",
        "variable": [
            "variable {E : Type*}",
            "variable [NormedAddCommGroup E]",
            "variable [InnerProductSpace ‚Ñù E]",
            "variable {f g : E ‚Üí ‚Ñù}",
            "variable {x y u v : E}",
            "variable\n  {c : ‚Ñù}\n    /- the general differential function used in the definition -/"
        ],
        "namespaces": [
            "Topology",
            "Set",
            "BigOperators",
            "Filter"
        ],
        "proof_process": "/-- the calculation rule for functions timing a positive constant -/\ntheorem f_subdiff_smul (h : u ‚àà f_subdifferential (c ‚Ä¢ f) x) (cpos : 0 < c) : c‚Åª¬π ‚Ä¢ u ‚àà f_subdifferential f x :=\n  by\n  rw [has_f_subdiff_iff] at *\n  intro Œµ Œµpos\n  filter_upwards [h _ (mul_pos cpos Œµpos)] with y hy\n  rw [real_inner_smul_left]\n  simp only [Pi.smul_apply, smul_eq_mul, neg_mul, neg_le_sub_iff_le_add] at hy\n  apply (mul_le_mul_left cpos).mp\n  field_simp\n  linarith",
        "type": "theorem",
        "filename": "Subdifferential"
    },
    {
        "theorem_name": "convex_f_f_subdiff_eq_subdiff",
        "theorem_statement": " (f : E ‚Üí ‚Ñù) (x : E) (hconv : ConvexOn ‚Ñù univ f) : f_subdifferential f x = subdifferential f x",
        "variable": [
            "variable {E : Type*}",
            "variable [NormedAddCommGroup E]",
            "variable [InnerProductSpace ‚Ñù E]",
            "variable {f g : E ‚Üí ‚Ñù}",
            "variable {x y u v : E}",
            "variable\n  {c : ‚Ñù}\n    /- the general differential function used in the definition -/"
        ],
        "namespaces": [
            "Topology",
            "Set",
            "BigOperators",
            "Filter"
        ],
        "proof_process": "/-- if f is convex , then Frechet subdifferential equals subdifferential equals subgradient-/\ntheorem convex_f_f_subdiff_eq_subdiff (f : E ‚Üí ‚Ñù) (x : E) (hconv : ConvexOn ‚Ñù univ f) :\n    f_subdifferential f x = subdifferential f x :=\n  by\n  rw [subdifferential]\n  ext v\n  rw [mem_setOf]\n  constructor\n  ¬∑ intro h\n    use fun (_k : ‚Ñï) ‚Ü¶ x\n    constructor\n    simp\n    constructor\n    simp\n    use fun _k ‚Ü¶ v\n    intro _k\n    constructor\n    assumption; simp\n  ¬∑ intro h\n    rw [convex_f_f_subdiff_eq_subgradient f x hconv]\n    rcases h with ‚ü®u, utendsx, futendsfx, vn, hvn‚ü©\n    rw [SubderivAt, mem_setOf, HasSubgradientAt]\n    intro y\n    have hvnin : ‚àÄ (n : ‚Ñï), f y ‚â• f (u n) + inner (vn n) (y - (u n)) :=\n      by\n      intro n\n      specialize hvn n\n      rcases hvn with ‚ü®hvnin, vntendsv‚ü©\n      rw [convex_f_f_subdiff_eq_subgradient f (u n) hconv] at hvnin\n      rw [SubderivAt, mem_setOf, HasSubgradientAt] at hvnin\n      apply hvnin\n    have vntendsv : Tendsto vn atTop (ùìù v) := by\n      specialize hvn 1\n      exact hvn.right\n    have tendsto : Tendsto (fun n ‚Ü¶ f (u n) + inner (vn n) (y - (u n))) atTop (ùìù (f x + inner v (y - x))) :=\n      by\n      apply Tendsto.add futendsfx\n      apply Tendsto.inner vntendsv\n      exact (tendsto_const_sub_iff y).mpr utendsx\n    simp\n    simp at hvnin\n    apply le_of_tendsto_of_frequently\n    apply tendsto\n    exact Filter.Frequently.of_forall hvnin",
        "type": "theorem",
        "filename": "Subdifferential"
    },
    {
        "theorem_name": "first_order_optimality_condition",
        "theorem_statement": " (f : E ‚Üí ‚Ñù) (x‚ÇÄ : E) (hx : IsLocalMin f x‚ÇÄ) : (0 : E) ‚àà f_subdifferential f x‚ÇÄ",
        "variable": [
            "variable {E : Type*}",
            "variable [NormedAddCommGroup E]",
            "variable [InnerProductSpace ‚Ñù E]",
            "variable {f g : E ‚Üí ‚Ñù}",
            "variable {x y u v : E}",
            "variable\n  {c : ‚Ñù}\n    /- the general differential function used in the definition -/"
        ],
        "namespaces": [
            "Topology",
            "Set",
            "BigOperators",
            "Filter"
        ],
        "proof_process": "/-- first order optimality condition for unconstrained optimization problem -/\ntheorem first_order_optimality_condition (f : E ‚Üí ‚Ñù) (x‚ÇÄ : E) (hx : IsLocalMin f x‚ÇÄ) :\n    (0 : E) ‚àà f_subdifferential f x‚ÇÄ := by\n  rw [has_f_subdiff_iff]\n  intro Œµ Œµpos\n  filter_upwards [hx] with y hy\n  have : 0 ‚â§ Œµ * ‚Äñy - x‚ÇÄ‚Äñ := by positivity\n  simp only [inner_zero_left, sub_zero, neg_mul, ge_iff_le, neg_le_sub_iff_le_add]\n  linarith",
        "type": "theorem",
        "filename": "Subdifferential"
    },
    {
        "theorem_name": "first_order_optimality_condition'",
        "theorem_statement": " (f : E ‚Üí ‚Ñù) (x‚ÇÄ : E) (hx : IsLocalMin f x‚ÇÄ) : (0 : E) ‚àà subdifferential f x‚ÇÄ",
        "variable": [
            "variable {E : Type*}",
            "variable [NormedAddCommGroup E]",
            "variable [InnerProductSpace ‚Ñù E]",
            "variable {f g : E ‚Üí ‚Ñù}",
            "variable {x y u v : E}",
            "variable\n  {c : ‚Ñù}\n    /- the general differential function used in the definition -/"
        ],
        "namespaces": [
            "Topology",
            "Set",
            "BigOperators",
            "Filter"
        ],
        "proof_process": "/-- first order optimality condition for unconstrained optimization problem -/\ntheorem first_order_optimality_condition' (f : E ‚Üí ‚Ñù) (x‚ÇÄ : E) (hx : IsLocalMin f x‚ÇÄ) :\n    (0 : E) ‚àà subdifferential f x‚ÇÄ := by\n  obtain hcon := subdifferential_subset f x‚ÇÄ\n  apply hcon; exact first_order_optimality_condition f x‚ÇÄ hx",
        "type": "theorem",
        "filename": "Subdifferential"
    },
    {
        "theorem_name": "HasGradientAt_iff_f_subdiff",
        "theorem_statement": " : HasGradientAt f u x ‚Üî u ‚àà f_subdifferential f x ‚àß -u ‚àà f_subdifferential (-f) x",
        "variable": [
            "variable {E : Type*}",
            "variable [NormedAddCommGroup E]",
            "variable [InnerProductSpace ‚Ñù E]",
            "variable [CompleteSpace E]",
            "variable {f g : E ‚Üí ‚Ñù}",
            "variable {x y u v : E}",
            "variable {c : ‚Ñù}"
        ],
        "namespaces": [
            "Topology",
            "Set",
            "BigOperators",
            "Filter"
        ],
        "proof_process": "/-- an equal statement for differential function in Frechet subdifferential-/\ntheorem HasGradientAt_iff_f_subdiff : HasGradientAt f u x ‚Üî u ‚àà f_subdifferential f x ‚àß -u ‚àà f_subdifferential (-f) x :=\n  by\n  rw [hasGradientAt_iff_isLittleO, Asymptotics.isLittleO_iff]\n  rw [has_f_subdiff_iff, has_f_subdiff_iff]\n  constructor\n  ¬∑ intro h\n    constructor\n    ¬∑ intro Œµ Œµpos\n      filter_upwards [h Œµpos] with y hy\n      rw [Real.norm_eq_abs, abs_le] at hy\n      linarith\n    ¬∑ intro Œµ Œµpos\n      filter_upwards [h Œµpos] with y hy\n      rw [Real.norm_eq_abs, abs_le] at hy\n      simp only [Pi.neg_apply, sub_neg_eq_add, inner_neg_left, neg_mul]\n      linarith\n  ¬∑ intro ‚ü®h1, h2‚ü© c cpos\n    filter_upwards [h1 c cpos, h2 c cpos] with y h1y h2y\n    simp only [Pi.neg_apply, sub_neg_eq_add, inner_neg_left, neg_mul] at h2y\n    rw [Real.norm_eq_abs, abs_le]\n    constructor <;> linarith",
        "type": "theorem",
        "filename": "Subdifferential"
    },
    {
        "theorem_name": "f_subdiff_gradiant",
        "theorem_statement": " (f : E ‚Üí ‚Ñù) (f' : E ‚Üí E) (z : E) (hf : HasGradientAt f (f' z) z) : f_subdifferential f z = {f' z}",
        "variable": [
            "variable {E : Type*}",
            "variable [NormedAddCommGroup E]",
            "variable [InnerProductSpace ‚Ñù E]",
            "variable [CompleteSpace E]",
            "variable {f g : E ‚Üí ‚Ñù}",
            "variable {x y u v : E}",
            "variable {c : ‚Ñù}"
        ],
        "namespaces": [
            "Topology",
            "Set",
            "BigOperators",
            "Filter"
        ],
        "proof_process": "/-- the Frechet subdifferential of a differentiable function is its gradient set-/\ntheorem f_subdiff_gradiant (f : E ‚Üí ‚Ñù) (f' : E ‚Üí E) (z : E) (hf : HasGradientAt f (f' z) z) :\n    f_subdifferential f z = {f' z} := by\n  ext u\n  rw [mem_singleton_iff]\n  rw [HasGradientAt_iff_f_subdiff] at hf\n  constructor\n  ¬∑ exact fun h ‚Ü¶ (neg_neg (f' z)) ‚ñ∏ (f_subdiff_neg_f_subdiff_unique h hf.2)\n  ¬∑ exact fun h ‚Ü¶ h ‚ñ∏ hf.1",
        "type": "theorem",
        "filename": "Subdifferential"
    },
    {
        "theorem_name": "subdiff_gradient",
        "theorem_statement": " (f : E ‚Üí ‚Ñù) (f' : E ‚Üí E) (hf : ‚àÄ x‚ÇÅ, HasGradientAt f (f' x‚ÇÅ) x‚ÇÅ) (gradcon : Continuous f') (z : E) :\n  subdifferential f z = {f' z}",
        "variable": [
            "variable {E : Type*}",
            "variable [NormedAddCommGroup E]",
            "variable [InnerProductSpace ‚Ñù E]",
            "variable [CompleteSpace E]",
            "variable {f g : E ‚Üí ‚Ñù}",
            "variable {x y u v : E}",
            "variable {c : ‚Ñù}"
        ],
        "namespaces": [
            "Topology",
            "Set",
            "BigOperators",
            "Filter"
        ],
        "proof_process": "/-- the subdifferential of a differentiable function is its gradient set-/\ntheorem subdiff_gradient (f : E ‚Üí ‚Ñù) (f' : E ‚Üí E) (hf : ‚àÄ x‚ÇÅ, HasGradientAt f (f' x‚ÇÅ) x‚ÇÅ) (gradcon : Continuous f')\n    (z : E) : subdifferential f z = {f' z} := by\n  rw [subdifferential]\n  ext x\n  constructor\n  ¬∑ intro xin\n    rw [mem_setOf] at *\n    rcases xin with ‚ü®u, ‚ü®utendz, ‚ü®utendfz, ‚ü®v, hv‚ü©‚ü©‚ü©‚ü©\n    have veq : ‚àÄ (n : ‚Ñï), v n = f' (u n) := by\n      intro n\n      rcases hv n with ‚ü®vin, vtend‚ü©\n      rw [f_subdiff_gradiant f f'] at vin\n      exact vin\n      exact hf (u n)\n    apply tendsto_nhds_unique (hv 1).right\n    rw [tendsto_congr veq]\n    apply tendsto_atTop_nhds.mpr\n    intro U uin uopen\n    rw [continuous_def] at gradcon\n    rw [tendsto_atTop_nhds] at utendz\n    have zinvu : z ‚àà ((f') ‚Åª¬π' U) := by simp; assumption\n    rcases utendz ((f') ‚Åª¬π' U) zinvu (gradcon U uopen) with ‚ü®N, hN‚ü©\n    use N\n    intro n nge\n    change u n ‚àà (f') ‚Åª¬π' U\n    apply hN n nge\n  ¬∑ intro xin\n    rw [mem_setOf, xin]\n    use fun _ ‚Ü¶ z\n    constructor; simp\n    constructor; simp\n    use fun _ ‚Ü¶ f' z\n    intro _; constructor; rw [f_subdiff_gradiant f f']\n    rfl\n    apply hf z\n    simp only [tendsto_const_nhds_iff]",
        "type": "theorem",
        "filename": "Subdifferential"
    },
    {
        "theorem_name": "f_subdiff_add_smooth",
        "theorem_statement": " (h : u ‚àà f_subdifferential f x) (hg : HasGradientAt g v x) : u + v ‚àà f_subdifferential (f + g) x",
        "variable": [
            "variable {E : Type*}",
            "variable [NormedAddCommGroup E]",
            "variable [InnerProductSpace ‚Ñù E]",
            "variable [CompleteSpace E]",
            "variable {f g : E ‚Üí ‚Ñù}",
            "variable {x y u v : E}",
            "variable {c : ‚Ñù}"
        ],
        "namespaces": [
            "Topology",
            "Set",
            "BigOperators",
            "Filter"
        ],
        "proof_process": "theorem f_subdiff_add_smooth (h : u ‚àà f_subdifferential f x) (hg : HasGradientAt g v x) :\n    u + v ‚àà f_subdifferential (f + g) x :=\n  f_subdiff_add h (HasGradientAt_iff_f_subdiff.mp hg).1",
        "type": "theorem",
        "filename": "Subdifferential"
    },
    {
        "theorem_name": "f_subdiff_prox",
        "theorem_statement": " (h : prox_prop f y x) : y - x ‚àà f_subdifferential f x",
        "variable": [
            "variable {E : Type*}",
            "variable [NormedAddCommGroup E]",
            "variable [InnerProductSpace ‚Ñù E]",
            "variable [CompleteSpace E]",
            "variable {f g : E ‚Üí ‚Ñù}",
            "variable {x y u v : E}",
            "variable {c : ‚Ñù}"
        ],
        "namespaces": [
            "Topology",
            "Set",
            "BigOperators",
            "Filter"
        ],
        "proof_process": "theorem f_subdiff_prox (h : prox_prop f y x) : y - x ‚àà f_subdifferential f x :=\n  by\n  have : IsLocalMin (fun u ‚Ü¶ f u + ‚Äñu - y‚Äñ ^ 2 / 2) x :=\n    by\n    have := h.localize\n    rwa [IsLocalMinOn, nhdsWithin_univ] at this\n  have hd := first_order_optimality_condition _ _ this\n  have hg := HasGradientAt.neg (@gradient_of_sq _ _ _ _ y x)\n  have := f_subdiff_add_smooth hd hg\n  simp only [neg_sub, zero_add] at this\n  have hf : f = (fun u ‚Ü¶ f u + ‚Äñu - y‚Äñ ^ 2 / 2) + fun x ‚Ü¶ -(‚Äñx - y‚Äñ ^ 2 / 2) :=\n    by\n    ext x\n    simp only [Pi.add_apply, add_neg_cancel_right]\n  exact hf ‚ñ∏ this",
        "type": "theorem",
        "filename": "Subdifferential"
    },
    {
        "theorem_name": "f_subdiff_add'",
        "theorem_statement": " (f : E ‚Üí ‚Ñù) (g : E ‚Üí ‚Ñù) (g' : E ‚Üí E) (x : E) (hg : ‚àÄ x‚ÇÅ, HasGradientAt g (g' x‚ÇÅ) x‚ÇÅ) (z : E) :\n  z ‚àà f_subdifferential (f + g) x ‚Üî ‚àÉ zf ‚àà f_subdifferential f x, ‚àÉ zg ‚àà f_subdifferential g x, z = zf + zg",
        "variable": [
            "variable {E : Type*}",
            "variable [NormedAddCommGroup E]",
            "variable [InnerProductSpace ‚Ñù E]",
            "variable [CompleteSpace E]",
            "variable {f g : E ‚Üí ‚Ñù}",
            "variable {x y u v : E}",
            "variable {c : ‚Ñù}"
        ],
        "namespaces": [
            "Topology",
            "Set",
            "BigOperators",
            "Filter"
        ],
        "proof_process": "/-- if one function is differentiable, the Frechet subdifferential of the sum of two functions\ncan be transverted to the sum of Frechet subdifferential for each function-/\ntheorem f_subdiff_add' (f : E ‚Üí ‚Ñù) (g : E ‚Üí ‚Ñù) (g' : E ‚Üí E) (x : E) (hg : ‚àÄ x‚ÇÅ, HasGradientAt g (g' x‚ÇÅ) x‚ÇÅ) (z : E) :\n    z ‚àà f_subdifferential (f + g) x ‚Üî ‚àÉ zf ‚àà f_subdifferential f x, ‚àÉ zg ‚àà f_subdifferential g x, z = zf + zg :=\n  by\n  constructor\n  ¬∑ intro zin\n    use z - g' x\n    constructor\n    ¬∑ rw [has_f_subdiff_iff] at *\n      intro Œµ Œµpos\n      specialize hg x\n      rw [hasGradientAt_iff_isLittleO, Asymptotics.isLittleO_iff] at hg\n      have Œµ2pos : 0 < Œµ / 2 := by positivity\n      specialize hg Œµ2pos\n      filter_upwards [zin _ Œµ2pos, hg] with a za ga\n      simp at ga\n      have h : -(g a - g x - inner (g' x) (a - x)) ‚â• -(Œµ / 2) * ‚Äña - x‚Äñ :=\n        by\n        change -(Œµ / 2) * ‚Äña - x‚Äñ ‚â§ -(g a - g x - inner (g' x) (a - x))\n        rw [neg_mul, neg_le_neg_iff]\n        apply le_trans; apply le_abs_self; assumption\n      rw [inner_sub_left]; simp; simp at h za\n      linarith\n    ¬∑ use g' x\n      constructor\n      ¬∑ rw [f_subdiff_gradiant g g']\n        simp\n        exact hg x\n      ¬∑ simp\n  ¬∑ intro zin\n    rcases zin with ‚ü®zf, zfin, zg, zgin, fgadd‚ü©\n    rw [fgadd]\n    apply f_subdiff_add; repeat' assumption",
        "type": "theorem",
        "filename": "Subdifferential"
    },
    {
        "theorem_name": "subdiff_add",
        "theorem_statement": " (f : E ‚Üí ‚Ñù) (g : E ‚Üí ‚Ñù) (g' : E ‚Üí E) (x : E) (hg : ‚àÄ x‚ÇÅ, HasGradientAt g (g' x‚ÇÅ) x‚ÇÅ) (gcon : Continuous g)\n  (gradcon : Continuous g') (z : E) :\n  z ‚àà subdifferential (f + g) x ‚Üî ‚àÉ zf ‚àà subdifferential f x, ‚àÉ zg ‚àà subdifferential g x, z = zf + zg",
        "variable": [
            "variable {E : Type*}",
            "variable [NormedAddCommGroup E]",
            "variable [InnerProductSpace ‚Ñù E]",
            "variable [CompleteSpace E]",
            "variable {f g : E ‚Üí ‚Ñù}",
            "variable {x y u v : E}",
            "variable {c : ‚Ñù}"
        ],
        "namespaces": [
            "Topology",
            "Set",
            "BigOperators",
            "Filter"
        ],
        "proof_process": "/-- if one function is smooth, the subdifferential of the sum of two functions\ncan be transverted to the sum of subdifferential for each function-/\ntheorem subdiff_add (f : E ‚Üí ‚Ñù) (g : E ‚Üí ‚Ñù) (g' : E ‚Üí E) (x : E) (hg : ‚àÄ x‚ÇÅ, HasGradientAt g (g' x‚ÇÅ) x‚ÇÅ)\n    (gcon : Continuous g) (gradcon : Continuous g') (z : E) :\n    z ‚àà subdifferential (f + g) x ‚Üî ‚àÉ zf ‚àà subdifferential f x, ‚àÉ zg ‚àà subdifferential g x, z = zf + zg :=\n  by\n  constructor\n  ¬∑ intro zin\n    rw [subdifferential, mem_setOf] at zin\n    rcases zin with ‚ü®u, hux, hufx, hv‚ü©\n    rcases hv with ‚ü®v, vlim‚ü©\n    use z - g' x\n    constructor\n    ¬∑ rw [subdifferential, mem_setOf]\n      constructor\n      ¬∑ constructor\n        use hux\n        constructor\n        ¬∑ have glim : Tendsto (fun n ‚Ü¶ -g (u n)) atTop (ùìù (-g x)) :=\n            by\n            have contneg : Continuous (-g) := by exact continuous_neg_iff.mpr gcon\n            apply tendsto_atTop_nhds.mpr\n            intro U uin uopen\n            rw [continuous_def] at contneg\n            rw [tendsto_atTop_nhds] at hux\n            have invuopen : IsOpen ((-g) ‚Åª¬π' U) := by exact contneg U uopen\n            have xinvu : x ‚àà ((-g) ‚Åª¬π' U) := by simp; exact uin\n            rcases hux ((-g) ‚Åª¬π' U) xinvu invuopen with ‚ü®N, hN‚ü©\n            use N\n            intro n nge\n            change u n ‚àà (-g) ‚Åª¬π' U\n            apply hN n nge\n          have functrans : (fun n ‚Ü¶ f (u n)) = (fun n ‚Ü¶ ((f + g) (u n)) + (-g (u n))) :=\n            by\n            ext n\n            simp\n          rw [functrans]\n          have nhds_trans : ùìù (f x) = (ùìù ((f + g) x + -g x)) := by simp\n          rw [nhds_trans]\n          apply Filter.Tendsto.add hufx glim\n        use fun n ‚Ü¶ (v n) - (g' (u n))\n        intro n\n        rcases vlim n with ‚ü®vin, vtends‚ü©\n        constructor\n        rw [f_subdiff_add'] at vin\n        rw [f_subdiff_gradiant g g'] at vin\n        rcases vin with ‚ü®zf, zfin, zg, zgin, fgadd‚ü©\n        simp at zgin; simp\n        rw [fgadd, zgin]\n        simp; assumption\n        exact hg (u n)\n        use g'; exact hg\n        have gradlim : Tendsto (fun n ‚Ü¶ g' (u n)) atTop (ùìù (g' x)) :=\n          by\n          apply tendsto_atTop_nhds.mpr\n          intro U uin uopen\n          rw [continuous_def] at gradcon\n          rw [tendsto_atTop_nhds] at hux\n          have invuopen : IsOpen ((g') ‚Åª¬π' U) := by exact gradcon U uopen\n          have xinvu : x ‚àà ((g') ‚Åª¬π' U) := by simp; exact uin\n          rcases hux ((g') ‚Åª¬π' U) xinvu invuopen with ‚ü®N, hN‚ü©\n          use N\n          intro n nge\n          change u n ‚àà (g') ‚Åª¬π' U\n          apply hN n nge\n        apply Tendsto.sub vtends\n        assumption\n    ¬∑ use g' x\n      constructor\n      ¬∑ rw [subdiff_gradient g g' hg gradcon]\n        simp\n      ¬∑ simp\n  ¬∑ intro zin\n    rcases zin with ‚ü®zf, zfin, zg, zgin, fgadd‚ü©\n    rw [fgadd, subdifferential, mem_setOf]\n    rw [subdifferential, mem_setOf] at zfin zgin\n    rcases zfin with ‚ü®uf, ufx, uffx, hfv‚ü©\n    rcases hfv with ‚ü®vf, vflim‚ü©\n    rcases zgin with ‚ü®ug, ugx, uggx, hgv‚ü©\n    rcases hgv with ‚ü®vg, vglim‚ü©\n    constructor\n    constructor\n    use ufx\n    constructor\n    ¬∑ apply Filter.Tendsto.add\n      exact uffx\n      apply tendsto_atTop_nhds.mpr\n      intro U uin uopen\n      rw [continuous_def] at gcon\n      rw [tendsto_atTop_nhds] at ufx\n      have invuopen : IsOpen ((g) ‚Åª¬π' U) := by exact gcon U uopen\n      have xinvu : x ‚àà ((g) ‚Åª¬π' U) := by simp; exact uin\n      rcases ufx ((g) ‚Åª¬π' U) xinvu invuopen with ‚ü®N, hN‚ü©\n      use N\n      intro n nge\n      change uf n ‚àà (g) ‚Åª¬π' U\n      apply hN n nge\n    ¬∑ use fun n ‚Ü¶ (vf n) + g' (uf n)\n      intro n\n      constructor\n      rcases vglim n with ‚ü®vgin, vgtends‚ü©\n      rcases vflim n with ‚ü®vfin, vftends‚ü©\n      ¬∑ rw [f_subdiff_add' f g g']\n        rw [f_subdiff_gradiant g g']; rw [f_subdiff_gradiant g g'] at vgin; simp at vgin\n        use vf n\n        constructor\n        assumption\n        use g' (uf n)\n        constructor\n        simp; simp; apply hg (ug n)\n        apply hg (uf n)\n        repeat' assumption;\n      ¬∑ apply Filter.Tendsto.add\n        rcases vflim n with ‚ü®_, vflim‚ü©\n        apply vflim\n        have limgrad :\n          (An : ‚Ñï ‚Üí E) ‚Üí (x : E) ‚Üí (Tendsto An atTop (ùìù x)) ‚Üí Tendsto (fun n ‚Ü¶ g' (An n)) atTop (ùìù (g' x)) :=\n          by\n          intro An x antends\n          apply tendsto_atTop_nhds.mpr\n          intro U uin uopen\n          rw [continuous_def] at gradcon\n          rw [tendsto_atTop_nhds] at antends\n          have invuopen : IsOpen ((g') ‚Åª¬π' U) := by exact gradcon U uopen\n          have xinvu : x ‚àà ((g') ‚Åª¬π' U) := by simp; exact uin\n          rcases antends ((g') ‚Åª¬π' U) xinvu invuopen with ‚ü®N, hN‚ü©\n          use N\n          intro n nge\n          change An n ‚àà (g') ‚Åª¬π' U\n          apply hN n nge\n        rcases vglim n with ‚ü®vgin, vgtends‚ü©\n        rw [f_subdiff_gradiant g g'] at vgin\n        have funtrans : ‚àÄ (n : ‚Ñï), vg n = g' (ug n) := by\n          intro k; rcases vglim k with ‚ü®vgin', vgtends'‚ü©; rw [f_subdiff_gradiant g g'] at vgin'\n          repeat' assumption\n          apply hg (ug k)\n        rw [tendsto_congr funtrans] at vgtends\n        have zgeq : zg = g' x := by\n          apply tendsto_nhds_unique vgtends\n          apply limgrad; apply ugx\n        rw [zgeq]\n        apply limgrad; apply ufx; apply hg (ug n)",
        "type": "theorem",
        "filename": "Subdifferential"
    },
    {
        "theorem_name": "f_subdiff_smul_prox",
        "theorem_statement": " (h : prox_prop (c ‚Ä¢ f) u x) (cpos : 0 < c) : c‚Åª¬π ‚Ä¢ (u - x) ‚àà f_subdifferential f x",
        "variable": [
            "variable {E : Type*}",
            "variable [NormedAddCommGroup E]",
            "variable [InnerProductSpace ‚Ñù E]",
            "variable [CompleteSpace E]",
            "variable {f g : E ‚Üí ‚Ñù}",
            "variable {x y u v : E}",
            "variable {c : ‚Ñù}"
        ],
        "namespaces": [
            "Topology",
            "Set",
            "BigOperators",
            "Filter"
        ],
        "proof_process": "theorem f_subdiff_smul_prox (h : prox_prop (c ‚Ä¢ f) u x) (cpos : 0 < c) : c‚Åª¬π ‚Ä¢ (u - x) ‚àà f_subdifferential f x :=\n  f_subdiff_smul (f_subdiff_prox h) cpos",
        "type": "theorem",
        "filename": "Subdifferential"
    },
    {
        "theorem_name": "rela_proximal_operator_partial",
        "theorem_statement": " (f : E ‚Üí ‚Ñù) (x : E) (u : E) : u ‚àà prox_set f x ‚Üí (x - u) ‚àà subdifferential f u",
        "variable": [
            "variable {E : Type*}",
            "variable [NormedAddCommGroup E]",
            "variable [InnerProductSpace ‚Ñù E]",
            "variable [CompleteSpace E]",
            "variable {f g : E ‚Üí ‚Ñù}",
            "variable {x y u v : E}",
            "variable {c : ‚Ñù}"
        ],
        "namespaces": [
            "Topology",
            "Set",
            "BigOperators",
            "Filter"
        ],
        "proof_process": "/-- the relation between subdifferential and poximal set-/\ntheorem rela_proximal_operator_partial (f : E ‚Üí ‚Ñù) (x : E) (u : E) : u ‚àà prox_set f x ‚Üí (x - u) ‚àà subdifferential f u :=\n  by\n  intro uporx\n  rw [prox_set, mem_setOf, prox_prop] at uporx\n  have h : (0 : E) ‚àà subdifferential (fun u ‚Ü¶ f u + ‚Äñu - x‚Äñ ^ 2 / 2) u :=\n    by\n    apply mem_of_mem_of_subset\n    apply first_order_optimality_condition'\n    ¬∑ apply IsMinOn.isLocalMin\n      apply uporx; simp\n    rfl\n  have ngradient : ‚àÄ x‚ÇÅ, HasGradientAt (fun u ‚Ü¶ ‚Äñu - x‚Äñ ^ 2 / 2) (x‚ÇÅ - x) x‚ÇÅ := by intro x‚ÇÅ; exact gradient_of_sq x‚ÇÅ\n  have _ncovex : ConvexOn ‚Ñù Set.univ (fun u ‚Ü¶ ‚Äñu - x‚Äñ ^ 2 / 2) := by apply convex_of_norm_sq x; exact convex_univ\n  have ncon : Continuous (fun u ‚Ü¶ ‚Äñu - x‚Äñ ^ 2 / 2) :=\n    by\n    have funtrans : (fun u ‚Ü¶ ‚Äñu - x‚Äñ ^ 2 / 2) = (fun u ‚Ü¶ (1 / 2) * ‚Äñu - x‚Äñ ^ 2) :=\n      by\n      simp\n      ext y; rw [mul_comm, div_eq_mul_inv]\n    rw [funtrans]\n    apply Continuous.mul\n    simp\n    exact continuous_const\n    apply Continuous.pow\n    apply Continuous.norm\n    exact continuous_sub_right x\n  have gradcon : Continuous fun u ‚Ü¶ u - x := by exact continuous_sub_right x\n  obtain h' := (subdiff_add f (fun u ‚Ü¶ ‚Äñu - x‚Äñ ^ 2 / 2) (fun x‚ÇÅ ‚Ü¶ x‚ÇÅ - x) u ngradient ncon gradcon 0).mp h\n  rcases h' with ‚ü®zf, zfin, zg, zgin, gfadd‚ü©\n  have nsubdifference : subdifferential (fun u ‚Ü¶ ‚Äñu - x‚Äñ ^ 2 / 2) u = {y | y = u - x} := by\n    exact subdiff_gradient (fun u ‚Ü¶ ‚Äñu - x‚Äñ ^ 2 / 2) (fun u ‚Ü¶ u - x) ngradient gradcon u\n  rw [nsubdifference, mem_setOf] at zgin\n  rw [zgin] at gfadd\n  have zfeq : zf = -(u - x) := by\n    apply add_eq_zero_iff_eq_neg.mp\n    apply gfadd.symm\n  rw [zfeq] at zfin\n  simp at zfin\n  assumption",
        "type": "theorem",
        "filename": "Subdifferential"
    }
]