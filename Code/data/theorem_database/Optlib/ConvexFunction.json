[
    {
        "theorem_name": "_private",
        "theorem_statement": " {a b : ‚Ñù} (sumab : a + b = 1) (hpoint : x' = a ‚Ä¢ x + b ‚Ä¢ y) : x - x' = b ‚Ä¢ (x - y)",
        "variable": [
            "variable {E : Type*}",
            "variable [NormedAddCommGroup E]",
            "variable [NormedSpace ‚Ñù E]",
            "variable {f : E ‚Üí ‚Ñù}",
            "variable {f' : E ‚Üí (E ‚ÜíL[‚Ñù] ‚Ñù)}",
            "variable {x y x' : E}",
            "variable {s : Set E}"
        ],
        "namespaces": [
            "Set",
            "Topology",
            "Filter",
            "InnerProductSpace"
        ],
        "proof_process": "private theorem point_proportion {a b : ‚Ñù} (sumab : a + b = 1) (hpoint : x' = a ‚Ä¢ x + b ‚Ä¢ y) : x - x' = b ‚Ä¢ (x - y) :=\n  by\n  calc\n    x - x' = x - (a ‚Ä¢ x + b ‚Ä¢ y) := by rw [hpoint]\n    _ = x - a ‚Ä¢ x - b ‚Ä¢ y := (sub_add_eq_sub_sub x (a ‚Ä¢ x) (b ‚Ä¢ y))\n    _ = (1 : ‚Ñù) ‚Ä¢ x - a ‚Ä¢ x - b ‚Ä¢ y := by rw [one_smul]\n    _ = (1 - a) ‚Ä¢ x - b ‚Ä¢ y := by rw [sub_smul 1 a]\n    _ = b ‚Ä¢ x - b ‚Ä¢ y := by rw [‚Üê sumab]; ring_nf\n    _ = b ‚Ä¢ (x - y) :=\n      Eq.symm\n        (smul_sub b x y)\n          /-\n            The first order condition for a convex function\n          -/",
        "type": "theorem",
        "filename": "ConvexFunction"
    },
    {
        "theorem_name": "Convex_first_order_condition",
        "theorem_statement": " {s : Set E} (h : HasFDerivAt f (f' x) x) (hf : ConvexOn ‚Ñù s f) (xs : x ‚àà s) : ‚àÄ y ‚àà s, f x + f' x (y - x) ‚â§ f y",
        "variable": [
            "variable {E : Type*}",
            "variable [NormedAddCommGroup E]",
            "variable [NormedSpace ‚Ñù E]",
            "variable {f : E ‚Üí ‚Ñù}",
            "variable {f' : E ‚Üí (E ‚ÜíL[‚Ñù] ‚Ñù)}",
            "variable {x y x' : E}",
            "variable {s : Set E}"
        ],
        "namespaces": [
            "Set",
            "Topology",
            "Filter",
            "InnerProductSpace"
        ],
        "proof_process": "theorem Convex_first_order_condition {s : Set E} (h : HasFDerivAt f (f' x) x) (hf : ConvexOn ‚Ñù s f) (xs : x ‚àà s) :\n    ‚àÄ y ‚àà s, f x + f' x (y - x) ‚â§ f y :=\n  by\n  have h‚ÇÅ : ‚àÄ Œµ > (0 : ‚Ñù), ‚àÉ Œ¥ > (0 : ‚Ñù), ‚àÄ (x' : E), ‚Äñx - x'‚Äñ ‚â§ Œ¥ ‚Üí ‚Äñf x' - f x - (f' x) (x' - x)‚Äñ ‚â§ Œµ * ‚Äñx - x'‚Äñ := by\n    apply HasFDeriv_Convergence h\n  intro y ys\n  by_cases h‚ÇÇ : y = x\n  rw [h‚ÇÇ, sub_self, ContinuousLinearMap.map_zero (f' x), add_zero]\n  have h‚ÇÉ : 0 < ‚Äñx - y‚Äñ := by\n    rw [norm_sub_pos_iff, Ne]\n    exact Iff.mpr ne_comm h‚ÇÇ\n  by_contra H\n  push_neg at H\n  rw [ConvexOn] at hf\n  rcases hf with ‚ü®_, cxf‚ü©\n  specialize cxf xs ys\n  let Œµ := f x + (f' x) (y - x) - f y\n  have epos : 0 < Œµ := Iff.mpr sub_pos H\n  have lnmp : ‚àÄ c : ‚Ñù, f' x (c ‚Ä¢ (y - x)) = c * (f' x (y - x)) := by intro c; rw [map_smul, smul_eq_mul]\n  let e1 := Œµ / (2 * ‚Äñx - y‚Äñ)\n  have e1pos : 0 < e1 := div_pos (by linarith) (by linarith)\n  specialize h‚ÇÅ e1 e1pos\n  rcases h‚ÇÅ with ‚ü®Œ¥, dpos, converge‚ü©\n  let b1 := Œ¥ / ‚Äñx - y‚Äñ\n  have b1pos : 0 < b1 := div_pos dpos h‚ÇÉ\n  let b := min b1 (1 : ‚Ñù)\n  let a := 1 - b\n  have sum_a_b : a + b = 1 := sub_add_cancel 1 b\n  have b_nonneg : 0 ‚â§ b := le_min (LT.lt.le b1pos) zero_le_one\n  have a_nonneg : 0 ‚â§ a :=\n    by\n    have h1 : 0 + b ‚â§ a + b := by\n      rw [zero_add, sum_a_b]\n      exact min_le_right b1 1\n    apply (add_le_add_iff_right b).mp h1\n  specialize cxf a_nonneg b_nonneg sum_a_b\n  let x' := a ‚Ä¢ x + b ‚Ä¢ y\n  have x'rfl : x' = a ‚Ä¢ x + b ‚Ä¢ y := rfl\n  have h1 : ‚Äñx - x'‚Äñ = ‚Äñb ‚Ä¢ (x - y)‚Äñ := by congr; apply point_proportion sum_a_b x'rfl\n  have h2 : ‚Äñb ‚Ä¢ (x - y)‚Äñ = b * ‚Äñx - y‚Äñ := by rw [norm_smul, Real.norm_of_nonneg b_nonneg]\n  have x1nbhd : ‚Äñx - x'‚Äñ ‚â§ Œ¥ := by\n    rw [h1, h2]\n    have h3 : b * ‚Äñx - y‚Äñ ‚â§ b1 * ‚Äñx - y‚Äñ := by\n      rw [mul_le_mul_right]\n      apply min_le_left\n      exact h‚ÇÉ\n    have h4 : b1 * ‚Äñx - y‚Äñ = Œ¥ := by\n      simp [b1]\n      rw [div_mul_cancel‚ÇÄ]\n      apply ne_of_gt h‚ÇÉ\n    rw [‚Üê h4]\n    apply h3\n  specialize converge x' x1nbhd\n  have H1 : f x + (f' x) (x' - x) - e1 * ‚Äñx - x'‚Äñ ‚â§ f x' :=\n    by\n    have l1 : f x + (f' x) (x' - x) - f x' ‚â§ ‚Äñf x' - f x - (f' x) (x' - x)‚Äñ :=\n      by\n      rw [Real.norm_eq_abs]\n      have : f x + (f' x) (x' - x) - f x' = -(f x' - f x - (f' x) (x' - x)) := by ring\n      rw [this]\n      apply neg_le_abs\n    have _ : f x + (f' x) (x' - x) - f x' ‚â§ e1 * ‚Äñx - x'‚Äñ := by apply le_trans l1 converge\n    linarith\n  have H3 : f y = f x + (f' x) (y - x) - Œµ := by simp only [Œµ, map_sub, sub_sub_cancel]\n  have l4 : e1 * ‚Äñx - x'‚Äñ = Œµ * b / 2 := by\n    rw [h1, h2]\n    calc\n      e1 * (b * ‚Äñx - y‚Äñ) = Œµ / (2 * ‚Äñx - y‚Äñ) * (b * ‚Äñx - y‚Äñ) := by rfl\n      _ = ((Œµ / 2) / ‚Äñx - y‚Äñ) * (b * ‚Äñx - y‚Äñ) := by ring\n      _ = ((Œµ / 2) / ‚Äñx - y‚Äñ) * ‚Äñx - y‚Äñ * b := by rw [mul_comm b, mul_assoc]\n      _ = (Œµ / 2) * b := by rw [div_mul_cancel‚ÇÄ]; apply ne_of_gt h‚ÇÉ\n      _ = Œµ * b / 2 := by ring\n  rw [l4] at H1; rw [smul_eq_mul, smul_eq_mul] at cxf\n  have H4 : a * f x + b * f y = f x + b * (f' x) (y - x) - b * Œµ := by rw [H3]; ring\n  have l5 : b * (f' x) (y - x) = (f' x) (x' - x) :=\n    by\n    rw [‚Üê neg_sub x x', point_proportion sum_a_b x'rfl, smul_sub]\n    rw [neg_sub, ‚Üê smul_sub, lnmp b]\n  rw [l5] at H4; rw [H4] at cxf\n  have _ : f x + (f' x) (x' - x) - Œµ * b / 2 ‚â§ f x + (f' x) (x' - x) - b * Œµ := le_trans H1 cxf\n  have blt : 0 < b := by positivity\n  have H11 : Œµ ‚â§ 0 := nonpos_of_mul_nonpos_left (by linarith) blt\n  linarith",
        "type": "theorem",
        "filename": "ConvexFunction"
    },
    {
        "theorem_name": "Fderiv_line_deriv",
        "theorem_statement": " (h : HasFDerivAt f (f' x) x) (v : E) : Tendsto (fun t ‚Ü¶ t‚Åª¬π * (f (x + t ‚Ä¢ v) - f x)) (ùìù[‚â†] 0) (ùìù (f' x v))",
        "variable": [
            "variable {E : Type*}",
            "variable [NormedAddCommGroup E]",
            "variable [NormedSpace ‚Ñù E]",
            "variable {f : E ‚Üí ‚Ñù}",
            "variable {f' : E ‚Üí (E ‚ÜíL[‚Ñù] ‚Ñù)}",
            "variable {x y x' : E}",
            "variable {s : Set E}"
        ],
        "namespaces": [
            "Set",
            "Topology",
            "Filter",
            "InnerProductSpace"
        ],
        "proof_process": "theorem Fderiv_line_deriv (h : HasFDerivAt f (f' x) x) (v : E) :\n    Tendsto (fun t ‚Ü¶ t‚Åª¬π * (f (x + t ‚Ä¢ v) - f x)) (ùìù[‚â†] 0) (ùìù (f' x v)) :=\n  by\n  obtain h1 := HasFDerivAt.hasLineDerivAt h v\n  obtain h2 := HasDerivAt.tendsto_slope_zero h1\n  simp at h2; exact h2",
        "type": "theorem",
        "filename": "ConvexFunction"
    },
    {
        "theorem_name": "Convex_first_order_condition_aux",
        "theorem_statement": " {s : Set E} (h : HasFDerivAt f (f' x) x) (hf : ConvexOn ‚Ñù s f) (xs : x ‚àà s) : ‚àÄ y ‚àà s, f x + f' x (y - x) ‚â§ f y",
        "variable": [
            "variable {E : Type*}",
            "variable [NormedAddCommGroup E]",
            "variable [NormedSpace ‚Ñù E]",
            "variable {f : E ‚Üí ‚Ñù}",
            "variable {f' : E ‚Üí (E ‚ÜíL[‚Ñù] ‚Ñù)}",
            "variable {x y x' : E}",
            "variable {s : Set E}"
        ],
        "namespaces": [
            "Set",
            "Topology",
            "Filter",
            "InnerProductSpace"
        ],
        "proof_process": "theorem Convex_first_order_condition_aux {s : Set E} (h : HasFDerivAt f (f' x) x) (hf : ConvexOn ‚Ñù s f) (xs : x ‚àà s) :\n    ‚àÄ y ‚àà s, f x + f' x (y - x) ‚â§ f y := by\n  intro y ys\n  have hpos : ‚àÄ t, (t > 0) ‚àß t < 1 ‚Üí f y - f x ‚â• t‚Åª¬π * (f (x + t ‚Ä¢ (y - x)) - f x) :=\n    by\n    rintro t ‚ü®ht1, ht2‚ü©; field_simp\n    obtain hf2 := hf.2 xs ys (LT.lt.le (sub_pos.mpr ht2)) (le_of_lt ht1) (by simp)\n    rw [div_le_iff‚ÇÄ' ht1]; simp at hf2\n    have : x + t ‚Ä¢ (y - x) = (1 - t) ‚Ä¢ x + t ‚Ä¢ y := by rw [smul_sub, sub_smul, one_smul, add_sub, add_sub_right_comm]\n    rw [this]\n    linarith\n  have : Tendsto (fun t ‚Ü¶ t‚Åª¬π * (f (x + t ‚Ä¢ (y - x)) - f x)) (ùìù[>] 0) (ùìù (f' x (y - x))) :=\n    by\n    apply Filter.Tendsto.mono_left (Fderiv_line_deriv h (y - x))\n    exact nhds_right'_le_nhds_ne 0\n  have : f y - f x ‚â• f' x (y - x) := by\n    apply le_of_tendsto this\n    rw [eventually_iff_exists_mem]\n    use Ioo 0 1\n    constructor\n    ¬∑ apply Ioo_mem_nhdsWithin_Ioi (by simp)\n    intro t1 ht1; exact hpos t1 ht1\n  linarith",
        "type": "theorem",
        "filename": "ConvexFunction"
    },
    {
        "theorem_name": "Convex_first_order_condition_inverse",
        "theorem_statement": " {f : E ‚Üí ‚Ñù} {f' : E ‚Üí (E ‚ÜíL[‚Ñù] ‚Ñù)} {s : Set E} (h : ‚àÄ x ‚àà s, HasFDerivAt f (f' x) x) (h‚ÇÅ : Convex ‚Ñù s)\n  (h‚ÇÇ : ‚àÄ (x : E), x ‚àà s ‚Üí ‚àÄ (y : E), y ‚àà s ‚Üí f x + f' x (y - x) ‚â§ f y) : ConvexOn ‚Ñù s f",
        "variable": [
            "variable {E : Type*}",
            "variable [NormedAddCommGroup E]",
            "variable [NormedSpace ‚Ñù E]",
            "variable {f : E ‚Üí ‚Ñù}",
            "variable {f' : E ‚Üí (E ‚ÜíL[‚Ñù] ‚Ñù)}",
            "variable {x y x' : E}",
            "variable {s : Set E}"
        ],
        "namespaces": [
            "Set",
            "Topology",
            "Filter",
            "InnerProductSpace"
        ],
        "proof_process": "theorem Convex_first_order_condition_inverse {f : E ‚Üí ‚Ñù} {f' : E ‚Üí (E ‚ÜíL[‚Ñù] ‚Ñù)} {s : Set E}\n    (h : ‚àÄ x ‚àà s, HasFDerivAt f (f' x) x) (h‚ÇÅ : Convex ‚Ñù s)\n    (h‚ÇÇ : ‚àÄ (x : E), x ‚àà s ‚Üí ‚àÄ (y : E), y ‚àà s ‚Üí f x + f' x (y - x) ‚â§ f y) : ConvexOn ‚Ñù s f :=\n  by\n  rw [ConvexOn]; constructor\n  apply h‚ÇÅ; intro x xs y ys a b anonneg bnonneg sumab\n  let x' := a ‚Ä¢ x + b ‚Ä¢ y\n  have x'rfl : x' = a ‚Ä¢ x + b ‚Ä¢ y := rfl\n  have x'rfl_comm : x' = b ‚Ä¢ y + a ‚Ä¢ x := by rw [add_comm]\n  have sumba : b + a = 1 := by rw [add_comm]; exact sumab\n  specialize h x'\n  have x1s : x' ‚àà s := by\n    rw [convex_iff_segment_subset] at h‚ÇÅ\n    specialize h‚ÇÅ xs ys\n    rw [segment_subset_iff] at h‚ÇÅ\n    exact h‚ÇÅ a b anonneg bnonneg sumab\n  have H1 : f x' + f' x' (x - x') ‚â§ f x := h‚ÇÇ x' x1s x xs\n  have H2 : f x' + f' x' (y - x') ‚â§ f y := h‚ÇÇ x' x1s y ys\n  have lnmp : ‚àÄ c : ‚Ñù, f' x' (c ‚Ä¢ (y - x)) = c * (f' x' (y - x)) := by intro c; rw [map_smul]; rfl\n  have H : a ‚Ä¢ (f x' + (f' x') (x - x')) + b ‚Ä¢ (f x' + (f' x') (y - x')) = f x' :=\n    by\n    have l1 :\n      a ‚Ä¢ (f x' + (f' x') (x - x')) + b ‚Ä¢ (f x' + (f' x') (y - x')) =\n        (a + b) ‚Ä¢ f x' + a ‚Ä¢ (f' x') (x - x') + b ‚Ä¢ (f' x') (y - x') :=\n      by\n      rw [smul_add, smul_add, ‚Üê add_assoc, add_assoc (a ‚Ä¢ f x'), add_comm (a ‚Ä¢ (f' x') (x - x')), ‚Üê add_assoc, add_smul]\n    have l2 : b ‚Ä¢ (f' x') (y - x') = (a * b) * (f' x') (y - x) :=\n      by\n      rw [point_proportion sumba x'rfl_comm, lnmp a]\n      calc\n        _ = b * (a * (f' x') (y - x)) := by rfl\n        _ = b * a * (f' x') (y - x) := by rw [mul_assoc]\n        _ = (a * b) * (f' x') (y - x) := by simp [mul_comm]\n    have l3_1 : x - x' = (-b) ‚Ä¢ (y - x) := by\n      rw [point_proportion sumab x'rfl]\n      rw [smul_sub, neg_smul, smul_sub]; simp\n    have l3 : a ‚Ä¢ (f' x') (x - x') = -(a * b) * (f' x') (y - x) :=\n      by\n      rw [l3_1, lnmp (-b)]\n      simp [mul_neg, mul_assoc, map_sub, neg_mul]\n    rw [l1, sumab, one_smul, l2, l3]\n    simp only [map_sub, neg_mul, neg_add_cancel_right]\n  have h1 : a ‚Ä¢ (f x' + (f' x') (x - x')) ‚â§ a ‚Ä¢ f x := mul_le_mul_of_nonneg_left H1 anonneg\n  have h2 : b ‚Ä¢ (f x' + (f' x') (y - x')) ‚â§ b ‚Ä¢ f y := mul_le_mul_of_nonneg_left H2 bnonneg\n  have H3 : a ‚Ä¢ (f x' + (f' x') (x - x')) + b ‚Ä¢ (f x' + (f' x') (y - x')) ‚â§ a ‚Ä¢ f x + b ‚Ä¢ f y := add_le_add h1 h2\n  rw [H] at H3\n  apply H3",
        "type": "theorem",
        "filename": "ConvexFunction"
    },
    {
        "theorem_name": "Convex_first_order_condition_iff",
        "theorem_statement": " (h‚ÇÅ : Convex ‚Ñù s) (h : ‚àÄ x ‚àà s, HasFDerivAt f (f' x) x) : ConvexOn ‚Ñù s f ‚Üî ‚àÄ x ‚àà s, ‚àÄ y ‚àà s, f x + f' x (y - x) ‚â§ f y",
        "variable": [
            "variable {E : Type*}",
            "variable [NormedAddCommGroup E]",
            "variable [NormedSpace ‚Ñù E]",
            "variable {f : E ‚Üí ‚Ñù}",
            "variable {f' : E ‚Üí (E ‚ÜíL[‚Ñù] ‚Ñù)}",
            "variable {x y x' : E}",
            "variable {s : Set E}"
        ],
        "namespaces": [
            "Set",
            "Topology",
            "Filter",
            "InnerProductSpace"
        ],
        "proof_process": "theorem Convex_first_order_condition_iff (h‚ÇÅ : Convex ‚Ñù s) (h : ‚àÄ x ‚àà s, HasFDerivAt f (f' x) x) :\n    ConvexOn ‚Ñù s f ‚Üî ‚àÄ x ‚àà s, ‚àÄ y ‚àà s, f x + f' x (y - x) ‚â§ f y :=\n  ‚ü®fun h‚ÇÇ x xs ‚Ü¶ Convex_first_order_condition (h x xs) h‚ÇÇ xs, Convex_first_order_condition_inverse h h‚ÇÅ‚ü©",
        "type": "theorem",
        "filename": "ConvexFunction"
    },
    {
        "theorem_name": "Convex_monotone_gradient",
        "theorem_statement": " (hfun : ConvexOn ‚Ñù s f) (h : ‚àÄ x ‚àà s, HasFDerivAt f (f' x) x) : ‚àÄ x ‚àà s, ‚àÄ y ‚àà s, (f' x - f' y) (x - y) ‚â• 0",
        "variable": [
            "variable {E : Type*}",
            "variable [NormedAddCommGroup E]",
            "variable [NormedSpace ‚Ñù E]",
            "variable {f : E ‚Üí ‚Ñù}",
            "variable {f' : E ‚Üí (E ‚ÜíL[‚Ñù] ‚Ñù)}",
            "variable {x y x' : E}",
            "variable {s : Set E}"
        ],
        "namespaces": [
            "Set",
            "Topology",
            "Filter",
            "InnerProductSpace"
        ],
        "proof_process": "theorem Convex_monotone_gradient (hfun : ConvexOn ‚Ñù s f) (h : ‚àÄ x ‚àà s, HasFDerivAt f (f' x) x) :\n    ‚àÄ x ‚àà s, ‚àÄ y ‚àà s, (f' x - f' y) (x - y) ‚â• 0 := by\n  intro x hx y hy\n  have h‚ÇÅ : f x + f' x (y - x) ‚â§ f y := Convex_first_order_condition (h x hx) hfun hx y hy\n  have h‚ÇÇ : f y + f' y (x - y) ‚â§ f x := Convex_first_order_condition (h y hy) hfun hy x hx\n  have h‚ÇÉ : f x + f' x (y - x) + (f y + f' y (x - y)) ‚â§ f y + f x := add_le_add h‚ÇÅ h‚ÇÇ\n  rw [add_assoc, ‚Üê le_sub_iff_add_le', ‚Üê add_sub, sub_self, add_zero] at h‚ÇÉ\n  rw [add_comm, add_assoc, ‚Üê le_sub_iff_add_le', sub_self] at h‚ÇÉ\n  simp only [map_sub] at h‚ÇÉ\n  simp only [map_sub, ContinuousLinearMap.coe_sub', Pi.sub_apply]\n  linarith",
        "type": "theorem",
        "filename": "ConvexFunction"
    },
    {
        "theorem_name": "Convex_first_order_condition'",
        "theorem_statement": " (h : HasGradientAt f (f' x) x) (hf : ConvexOn ‚Ñù s f) (xs : x ‚àà s) : ‚àÄ (y : E), y ‚àà s ‚Üí f x + inner (f' x) (y - x) ‚â§ f y",
        "variable": [
            "variable {E : Type*}",
            "variable [NormedAddCommGroup E]",
            "variable [InnerProductSpace ‚Ñù E]",
            "variable [CompleteSpace E]",
            "variable {f : E ‚Üí ‚Ñù}",
            "variable {f' : E ‚Üí E}",
            "variable {s : Set E}",
            "variable {x : E}"
        ],
        "namespaces": [
            "InnerProductSpace",
            "Set",
            "Set",
            "Topology",
            "Filter",
            "InnerProductSpace"
        ],
        "proof_process": "theorem Convex_first_order_condition' (h : HasGradientAt f (f' x) x) (hf : ConvexOn ‚Ñù s f) (xs : x ‚àà s) :\n    ‚àÄ (y : E), y ‚àà s ‚Üí f x + inner (f' x) (y - x) ‚â§ f y :=\n  by\n  show ‚àÄ (y : E), y ‚àà s ‚Üí f x + (toDual ‚Ñù E) (f' x) (y - x) ‚â§ f y\n  apply Convex_first_order_condition _ hf xs\n  apply h",
        "type": "theorem",
        "filename": "ConvexFunction"
    },
    {
        "theorem_name": "Convex_first_order_condition_inverse'",
        "theorem_statement": " (h : ‚àÄ x ‚àà s, HasGradientAt f (f' x) x) (h‚ÇÅ : Convex ‚Ñù s)\n  (h‚ÇÇ : ‚àÄ x : E, x ‚àà s ‚Üí ‚àÄ y : E, y ‚àà s ‚Üí f x + inner (f' x) (y - x) ‚â§ f y) : ConvexOn ‚Ñù s f",
        "variable": [
            "variable {E : Type*}",
            "variable [NormedAddCommGroup E]",
            "variable [InnerProductSpace ‚Ñù E]",
            "variable [CompleteSpace E]",
            "variable {f : E ‚Üí ‚Ñù}",
            "variable {f' : E ‚Üí E}",
            "variable {s : Set E}",
            "variable {x : E}"
        ],
        "namespaces": [
            "InnerProductSpace",
            "Set",
            "Set",
            "Topology",
            "Filter",
            "InnerProductSpace"
        ],
        "proof_process": "theorem Convex_first_order_condition_inverse' (h : ‚àÄ x ‚àà s, HasGradientAt f (f' x) x) (h‚ÇÅ : Convex ‚Ñù s)\n    (h‚ÇÇ : ‚àÄ x : E, x ‚àà s ‚Üí ‚àÄ y : E, y ‚àà s ‚Üí f x + inner (f' x) (y - x) ‚â§ f y) : ConvexOn ‚Ñù s f :=\n  by\n  apply Convex_first_order_condition_inverse\n  intro x; specialize h x\n  rw [hasGradientAt_iff_hasFDerivAt] at h\n  apply h; apply h‚ÇÅ; apply h‚ÇÇ",
        "type": "theorem",
        "filename": "ConvexFunction"
    },
    {
        "theorem_name": "Convex_first_order_condition_iff'",
        "theorem_statement": " (h‚ÇÅ : Convex ‚Ñù s) (h : ‚àÄ x ‚àà s, HasGradientAt f (f' x) x) :\n  ConvexOn ‚Ñù s f ‚Üî ‚àÄ x ‚àà s, ‚àÄ y ‚àà s, f x + inner (f' x) (y - x) ‚â§ f y",
        "variable": [
            "variable {E : Type*}",
            "variable [NormedAddCommGroup E]",
            "variable [InnerProductSpace ‚Ñù E]",
            "variable [CompleteSpace E]",
            "variable {f : E ‚Üí ‚Ñù}",
            "variable {f' : E ‚Üí E}",
            "variable {s : Set E}",
            "variable {x : E}"
        ],
        "namespaces": [
            "InnerProductSpace",
            "Set",
            "Set",
            "Topology",
            "Filter",
            "InnerProductSpace"
        ],
        "proof_process": "theorem Convex_first_order_condition_iff' (h‚ÇÅ : Convex ‚Ñù s) (h : ‚àÄ x ‚àà s, HasGradientAt f (f' x) x) :\n    ConvexOn ‚Ñù s f ‚Üî ‚àÄ x ‚àà s, ‚àÄ y ‚àà s, f x + inner (f' x) (y - x) ‚â§ f y :=\n  ‚ü®fun h‚ÇÇ x xs ‚Ü¶ Convex_first_order_condition' (h x xs) h‚ÇÇ xs, Convex_first_order_condition_inverse' h h‚ÇÅ‚ü©",
        "type": "theorem",
        "filename": "ConvexFunction"
    },
    {
        "theorem_name": "Convex_monotone_gradient'",
        "theorem_statement": " (hfun : ConvexOn ‚Ñù s f) (h : ‚àÄ x ‚àà s, HasGradientAt f (f' x) x) :\n  ‚àÄ x ‚àà s, ‚àÄ y ‚àà s, inner (f' x - f' y) (x - y) ‚â• (0 : ‚Ñù)",
        "variable": [
            "variable {E : Type*}",
            "variable [NormedAddCommGroup E]",
            "variable [InnerProductSpace ‚Ñù E]",
            "variable [CompleteSpace E]",
            "variable {f : E ‚Üí ‚Ñù}",
            "variable {f' : E ‚Üí E}",
            "variable {s : Set E}",
            "variable {x : E}"
        ],
        "namespaces": [
            "InnerProductSpace",
            "Set",
            "Set",
            "Topology",
            "Filter",
            "InnerProductSpace"
        ],
        "proof_process": "theorem Convex_monotone_gradient' (hfun : ConvexOn ‚Ñù s f) (h : ‚àÄ x ‚àà s, HasGradientAt f (f' x) x) :\n    ‚àÄ x ‚àà s, ‚àÄ y ‚àà s, inner (f' x - f' y) (x - y) ‚â• (0 : ‚Ñù) :=\n  by\n  let g := fun x ‚Ü¶ (toDual ‚Ñù E) (f' x)\n  have h' : ‚àÄ x ‚àà s, HasFDerivAt f (g x) x := h\n  have equiv : ‚àÄ x y : E, inner (f' x - f' y) (x - y) = (g x - g y) (x - y) :=\n    by\n    intro x y\n    rw [‚Üê InnerProductSpace.toDual_apply]\n    simp only [map_sub, ContinuousLinearMap.coe_sub', Pi.sub_apply, toDual_apply, g]\n  intro x hx y hy\n  rw [equiv]\n  exact Convex_monotone_gradient hfun h' x hx y hy",
        "type": "theorem",
        "filename": "ConvexFunction"
    },
    {
        "theorem_name": "monotone_gradient_convex'",
        "theorem_statement": " (h‚ÇÅ : Convex ‚Ñù s) (hf : ‚àÄ x ‚àà s, HasGradientAt f (f' x) x)\n  (mono : ‚àÄ x ‚àà s, ‚àÄ y ‚àà s, inner (f' x - f' y) (x - y) ‚â• (0 : ‚Ñù)) : ConvexOn ‚Ñù s f",
        "variable": [
            "variable {E : Type*}",
            "variable [NormedAddCommGroup E]",
            "variable [InnerProductSpace ‚Ñù E]",
            "variable [CompleteSpace E]",
            "variable {f : E ‚Üí ‚Ñù}",
            "variable {f' : E ‚Üí E}",
            "variable {s : Set E}",
            "variable {x : E}"
        ],
        "namespaces": [
            "InnerProductSpace",
            "Set",
            "Set",
            "Topology",
            "Filter",
            "InnerProductSpace"
        ],
        "proof_process": "theorem monotone_gradient_convex' (h‚ÇÅ : Convex ‚Ñù s) (hf : ‚àÄ x ‚àà s, HasGradientAt f (f' x) x)\n    (mono : ‚àÄ x ‚àà s, ‚àÄ y ‚àà s, inner (f' x - f' y) (x - y) ‚â• (0 : ‚Ñù)) : ConvexOn ‚Ñù s f :=\n  by\n  apply Convex_first_order_condition_inverse' hf h‚ÇÅ\n  intro x xs y ys\n  let g := fun t : ‚Ñù ‚Ü¶ f (x + t ‚Ä¢ (y - x))\n  let g' := fun t : ‚Ñù ‚Ü¶ (inner (f' (x + t ‚Ä¢ (y - x))) (y - x) : ‚Ñù)\n  have h1 : ‚àÄ r ‚àà Icc 0 1, HasDerivAt g (g' r) r :=\n    by\n    let h := fun r : ‚Ñù ‚Ü¶ (x + r ‚Ä¢ (y - x))\n    have : g = f ‚àò h := rfl\n    rw [this]; intro t ht\n    have : inner (f' (x + t ‚Ä¢ (y - x))) (y - x) = toDual ‚Ñù E (f' (x + t ‚Ä¢ (y - x))) (y - x) := rfl\n    simp [g']; rw [this]; apply HasFDerivAt.comp_hasDerivAt\n    ¬∑ apply hasGradientAt_iff_hasFDerivAt.mp\n      have : x + t ‚Ä¢ (y - x) ‚àà s := by\n        apply Convex.add_smul_sub_mem h‚ÇÅ xs ys; simp; simp at ht; rcases ht with ‚ü®ht1, ht2‚ü©\n        constructor <;> linarith\n      exact hf (x + t ‚Ä¢ (y - x)) this\n    ¬∑ have ht : HasDerivAt (fun r : ‚Ñù ‚Ü¶ r) 1 t := hasDerivAt_id' t\n      have : HasDerivAt (fun r : ‚Ñù ‚Ü¶ r ‚Ä¢ (y - x)) ((1 : ‚Ñù) ‚Ä¢ (y - x)) t := by exact HasDerivAt.smul_const ht (y - x)\n      rw [one_smul] at this; exact HasDerivAt.const_add x this\n  have e1 : f x = g 0 := by simp [g]\n  have e2 : f y = g 1 := by simp [g]\n  have e3 : inner (f' x) (y - x) = g' 0 := by simp [g']\n  rw [e1, e2, e3]\n  have mono' : ‚àÄ t ‚àà Ioo 0 1, g' t ‚â• g' 0 := by\n    intro t ht; simp [g']; rw [‚Üê sub_nonneg, ‚Üê inner_sub_left]\n    rcases ht with ‚ü®ht1, ht2‚ü©\n    have hh : inner (f' (x + t ‚Ä¢ (y - x)) - f' x) (x + t ‚Ä¢ (y - x) - x) ‚â• (0 : ‚Ñù) :=\n      by\n      apply mono (x + t ‚Ä¢ (y - x)) _ x xs\n      have e4 : x + t ‚Ä¢ (y - x) = (1 - t) ‚Ä¢ x + t ‚Ä¢ y := by\n        rw [smul_sub, add_sub, sub_smul, one_smul, add_sub_right_comm]\n      rw [e4]\n      apply convex_iff_forall_pos.mp h‚ÇÅ xs ys (by linarith) (by linarith) (by norm_num)\n    rw [add_sub_cancel_left, inner_smul_right] at hh\n    exact (mul_nonneg_iff_of_pos_left ht1).mp hh\n  have h2 : ‚àÉ c ‚àà Set.Ioo 0 1, g' c = (g 1 - g 0) / (1 - 0) :=\n    by\n    apply exists_hasDerivAt_eq_slope\n    ¬∑ linarith\n    ¬∑ have : ‚àÄ x ‚àà Icc 0 1, HasDerivAt g (g' x) x := by\n        intro x hx\n        exact (h1 x hx)\n      exact HasDerivAt.continuousOn this\n    ¬∑ intro x hx\n      have : x ‚àà Icc 0 1 := by simp at hx; simp; constructor <;> linarith\n      exact h1 x this\n  rcases h2 with ‚ü®c, ‚ü®‚ü®hc1, hc2‚ü©, hc3‚ü©‚ü©\n  rw [sub_zero, div_one] at hc3; rw [‚Üê le_sub_iff_add_le', ‚Üê hc3]\n  apply mono' c\n  simp; constructor; linarith; linarith",
        "type": "theorem",
        "filename": "ConvexFunction"
    },
    {
        "theorem_name": "monotone_gradient_iff_convex'",
        "theorem_statement": " (h‚ÇÅ : Convex ‚Ñù s) (hf : ‚àÄ x ‚àà s, HasGradientAt f (f' x) x) :\n  ConvexOn ‚Ñù s f ‚Üî ‚àÄ x ‚àà s, ‚àÄ y ‚àà s, inner (f' x - f' y) (x - y) ‚â• (0 : ‚Ñù)",
        "variable": [
            "variable {E : Type*}",
            "variable [NormedAddCommGroup E]",
            "variable [InnerProductSpace ‚Ñù E]",
            "variable [CompleteSpace E]",
            "variable {f : E ‚Üí ‚Ñù}",
            "variable {f' : E ‚Üí E}",
            "variable {s : Set E}",
            "variable {x : E}"
        ],
        "namespaces": [
            "InnerProductSpace",
            "Set",
            "Set",
            "Topology",
            "Filter",
            "InnerProductSpace"
        ],
        "proof_process": "theorem monotone_gradient_iff_convex' (h‚ÇÅ : Convex ‚Ñù s) (hf : ‚àÄ x ‚àà s, HasGradientAt f (f' x) x) :\n    ConvexOn ‚Ñù s f ‚Üî ‚àÄ x ‚àà s, ‚àÄ y ‚àà s, inner (f' x - f' y) (x - y) ‚â• (0 : ‚Ñù) :=\n  ‚ü®fun h ‚Ü¶ Convex_monotone_gradient' h hf, fun h ‚Ü¶ monotone_gradient_convex' h‚ÇÅ hf h‚ü©",
        "type": "theorem",
        "filename": "ConvexFunction"
    },
    {
        "theorem_name": "monotone_gradient_convex",
        "theorem_statement": " {f' : E ‚Üí (E ‚ÜíL[‚Ñù] ‚Ñù)} (h‚ÇÅ : Convex ‚Ñù s) (hf : ‚àÄ x ‚àà s, HasFDerivAt f (f' x) x)\n  (mono : ‚àÄ x ‚àà s, ‚àÄ y ‚àà s, (f' x - f' y) (x - y) ‚â• 0) : ConvexOn ‚Ñù s f",
        "variable": [
            "variable {E : Type*}",
            "variable [NormedAddCommGroup E]",
            "variable [InnerProductSpace ‚Ñù E]",
            "variable [CompleteSpace E]",
            "variable {f : E ‚Üí ‚Ñù}",
            "variable {f' : E ‚Üí E}",
            "variable {s : Set E}",
            "variable {x : E}"
        ],
        "namespaces": [
            "InnerProductSpace",
            "Set",
            "Set",
            "Topology",
            "Filter",
            "InnerProductSpace"
        ],
        "proof_process": "theorem monotone_gradient_convex {f' : E ‚Üí (E ‚ÜíL[‚Ñù] ‚Ñù)} (h‚ÇÅ : Convex ‚Ñù s) (hf : ‚àÄ x ‚àà s, HasFDerivAt f (f' x) x)\n    (mono : ‚àÄ x ‚àà s, ‚àÄ y ‚àà s, (f' x - f' y) (x - y) ‚â• 0) : ConvexOn ‚Ñù s f :=\n  by\n  let g := fun x ‚Ü¶ ((toDual ‚Ñù E).symm (f' x))\n  have h' : ‚àÄ x ‚àà s, HasGradientAt f (g x) x := by\n    intro x' hx'\n    exact HasFDerivAt.hasGradientAt (hf x' hx')\n  have equiv : ‚àÄ x y : E, inner (g x - g y) (x - y) = (f' x - f' y) (x - y) :=\n    by\n    intro x y\n    rw [‚Üê InnerProductSpace.toDual_apply]; simp [g]\n  have mono' : ‚àÄ x ‚àà s, ‚àÄ y ‚àà s, inner (g x - g y) (x - y) ‚â• (0 : ‚Ñù) :=\n    by\n    intro x hx y hy\n    specialize mono x hx y hy\n    rw [equiv]; exact mono\n  exact monotone_gradient_convex' h‚ÇÅ h' mono'",
        "type": "theorem",
        "filename": "ConvexFunction"
    },
    {
        "theorem_name": "montone_gradient_iff_convex",
        "theorem_statement": " {f' : E ‚Üí (E ‚ÜíL[‚Ñù] ‚Ñù)} (h‚ÇÅ : Convex ‚Ñù s) (hf : ‚àÄ x ‚àà s, HasFDerivAt f (f' x) x) :\n  ConvexOn ‚Ñù s f ‚Üî ‚àÄ x ‚àà s, ‚àÄ y ‚àà s, (f' x - f' y) (x - y) ‚â• (0 : ‚Ñù)",
        "variable": [
            "variable {E : Type*}",
            "variable [NormedAddCommGroup E]",
            "variable [InnerProductSpace ‚Ñù E]",
            "variable [CompleteSpace E]",
            "variable {f : E ‚Üí ‚Ñù}",
            "variable {f' : E ‚Üí E}",
            "variable {s : Set E}",
            "variable {x : E}"
        ],
        "namespaces": [
            "InnerProductSpace",
            "Set",
            "Set",
            "Topology",
            "Filter",
            "InnerProductSpace"
        ],
        "proof_process": "theorem montone_gradient_iff_convex {f' : E ‚Üí (E ‚ÜíL[‚Ñù] ‚Ñù)} (h‚ÇÅ : Convex ‚Ñù s) (hf : ‚àÄ x ‚àà s, HasFDerivAt f (f' x) x) :\n    ConvexOn ‚Ñù s f ‚Üî ‚àÄ x ‚àà s, ‚àÄ y ‚àà s, (f' x - f' y) (x - y) ‚â• (0 : ‚Ñù) :=\n  ‚ü®fun h ‚Ü¶ Convex_monotone_gradient h hf, fun h ‚Ü¶ monotone_gradient_convex h‚ÇÅ hf h‚ü©",
        "type": "theorem",
        "filename": "ConvexFunction"
    },
    {
        "theorem_name": "monotone_gradient_strict_convex",
        "theorem_statement": " (hs : Convex ‚Ñù s) (hf : ‚àÄ x ‚àà s, HasGradientAt f (f' x) x)\n  (mono : ‚àÄ x ‚àà s, ‚àÄ y ‚àà s, x ‚â† y ‚Üí inner (f' x - f' y) (x - y) > (0 : ‚Ñù)) : StrictConvexOn ‚Ñù s f",
        "variable": [
            "variable {E : Type*}",
            "variable [NormedAddCommGroup E]",
            "variable [InnerProductSpace ‚Ñù E]",
            "variable [CompleteSpace E]",
            "variable {f : E ‚Üí ‚Ñù}",
            "variable {f' : E ‚Üí E}",
            "variable {s : Set E}"
        ],
        "namespaces": [
            "Set",
            "Topology",
            "Filter",
            "InnerProductSpace"
        ],
        "proof_process": "theorem monotone_gradient_strict_convex (hs : Convex ‚Ñù s) (hf : ‚àÄ x ‚àà s, HasGradientAt f (f' x) x)\n    (mono : ‚àÄ x ‚àà s, ‚àÄ y ‚àà s, x ‚â† y ‚Üí inner (f' x - f' y) (x - y) > (0 : ‚Ñù)) : StrictConvexOn ‚Ñù s f :=\n  by\n  rw [StrictConvexOn]; use hs\n  intro x xin y yin xney a b apos bpos absum1\n  by_contra h‚ÇÄ; push_neg at h‚ÇÄ\n  have anneg : 0 ‚â§ a := by linarith\n  have bnneg : 0 ‚â§ b := by linarith\n  have mono' : ‚àÄ x ‚àà s, ‚àÄ y ‚àà s, inner (f' x - f' y) (x - y) ‚â• (0 : ‚Ñù) :=\n    by\n    intro x xin y yin\n    by_cases h : x = y\n    ¬∑ rw [h]; simp\n    ¬∑ linarith [mono x xin y yin h]\n  have convf : ConvexOn ‚Ñù s f := by apply monotone_gradient_convex' hs hf mono'\n  rw [ConvexOn] at convf\n  rcases convf with ‚ü®_, convf‚ü©\n  have eq : f (a ‚Ä¢ x + b ‚Ä¢ y) ‚â§ a ‚Ä¢ f x + b ‚Ä¢ f y := by apply convf xin yin anneg bnneg absum1\n  have eq2 : f (a ‚Ä¢ x + b ‚Ä¢ y) = a ‚Ä¢ f x + b ‚Ä¢ f y := by linarith\n  let z : E := a ‚Ä¢ x + b ‚Ä¢ y\n  have zin : z ‚àà s := by\n    simp [z]\n    have : a = 1 - b := by linarith\n    rw [this, sub_smul, add_comm_sub, ‚Üê smul_sub]; simp\n    apply Convex.add_smul_sub_mem hs xin yin; simp; use bnneg; linarith\n  have eq1 : ‚àÉ c : ‚Ñù, c ‚àà Set.Ioo 0 1 ‚àß inner (f' (x + c ‚Ä¢ (z - x))) (z - x) = f z - f x := by\n    apply lagrange hs hf x xin z zin\n  have eq2 : ‚àÉ c : ‚Ñù, c ‚àà Set.Ioo 0 1 ‚àß inner (f' (z + c ‚Ä¢ (y - z))) (y - z) = f y - f z := by\n    apply lagrange hs hf z zin y yin\n  rcases eq1 with ‚ü®c, cin, e1‚ü©\n  rcases eq2 with ‚ü®d, din, e2‚ü©\n  have eq3 : b * inner (f' (z + d ‚Ä¢ (y - z))) (y - z) - a * inner (f' (x + c ‚Ä¢ (z - x))) (z - x) = 0 :=\n    by\n    rw [e1, e2]; simp [z]; ring_nf; rw [add_comm, ‚Üê add_assoc]\n    simp at eq2; rw [‚Üê eq2]; nth_rw 1 [‚Üê mul_one (f (a ‚Ä¢ x + b ‚Ä¢ y))]; rw [‚Üê absum1]; ring_nf\n  rw [‚Üê inner_smul_right, ‚Üê inner_smul_right] at eq3\n  have this1 : b ‚Ä¢ (y - z) = a ‚Ä¢ b ‚Ä¢ (y - x) := by simp [z]; nth_rw 1 [‚Üê one_smul ‚Ñù y]; rw [‚Üê absum1, add_smul]; simp;\n    rw [‚Üê smul_sub, smul_comm]\n  have this2 : a ‚Ä¢ (z - x) = a ‚Ä¢ b ‚Ä¢ (y - x) := by simp [z]; nth_rw 2 [‚Üê one_smul ‚Ñù x]; rw [‚Üê absum1, add_smul]; simp;\n    rw [‚Üê smul_sub, smul_comm]\n  rw [this1, this2, ‚Üê inner_sub_left, inner_smul_right, inner_smul_right, ‚Üê mul_assoc] at eq3\n  have eq0 : inner (f' (z + d ‚Ä¢ (y - z)) - f' (x + c ‚Ä¢ (z - x))) (y - x) = (0 : ‚Ñù) :=\n    by\n    contrapose! eq3\n    rw [mul_ne_zero_iff]\n    constructor\n    ¬∑ rw [mul_ne_zero_iff]; constructor <;> linarith\n    ¬∑ exact eq3\n  have zeq : z = x + b ‚Ä¢ (y - x) := by nth_rw 1 [‚Üê one_smul ‚Ñù x]; rw [‚Üê absum1, add_smul, smul_sub]; simp\n  let u : E := z + d ‚Ä¢ (y - z)\n  let v : E := x + c ‚Ä¢ (z - x)\n  have ueq : u = x + (b + d) ‚Ä¢ (y - x) - d ‚Ä¢ b ‚Ä¢ (y - x) :=\n    by\n    show z + d ‚Ä¢ (y - z) = x + (b + d) ‚Ä¢ (y - x) - d ‚Ä¢ b ‚Ä¢ (y - x); rw [zeq]\n    rw [add_assoc, ‚Üê add_sub, add_left_cancel_iff]\n    rw [add_smul, ‚Üê add_sub, add_left_cancel_iff]\n    rw [‚Üê sub_sub, smul_sub]\n  have veq : v = x + c ‚Ä¢ b ‚Ä¢ (y - x) :=\n    by\n    show x + c ‚Ä¢ (z - x) = x + c ‚Ä¢ b ‚Ä¢ (y - x)\n    rw [zeq, add_left_cancel_iff]; simp\n  have usubv : u - v = (b + d - d * b - c * b) ‚Ä¢ (y - x) :=\n    by\n    rw [ueq, veq, ‚Üê smul_assoc, ‚Üê smul_assoc, ‚Üê sub_sub]; simp\n    rw [‚Üê add_sub, ‚Üê sub_smul (b + d) (d * b)]; simp; rw [‚Üê sub_smul]\n  have eeq0 : inner (f' u - f' v) (u - v) = (0 : ‚Ñù) :=\n    by\n    show inner (f' (z + d ‚Ä¢ (y - z)) - f' (x + c ‚Ä¢ (z - x))) (u - v) = (0 : ‚Ñù)\n    rw [usubv, inner_smul_right, eq0]; simp\n  have coefne0 : b + d - d * b - c * b > 0 := by\n    nth_rw 1 [‚Üê mul_one d]; rw [‚Üê absum1]; simp; ring_nf\n    simp at cin; simp at din\n    rcases cin with ‚ü®_, cl1‚ü©; rcases din with ‚ü®dpos, _‚ü©\n    calc\n      c * b < b := by rw [mul_lt_iff_lt_one_left]; apply cl1; linarith\n      _ < b + d * a := by\n        have : 0 < d * a := by apply mul_pos dpos apos\n        linarith\n  have neq0 : inner (f' u - f' v) (u - v) > (0 : ‚Ñù) :=\n    by\n    have uin : u ‚àà s := by\n      show z + d ‚Ä¢ (y - z) ‚àà s\n      apply Convex.add_smul_sub_mem hs zin yin; simp; simp at din\n      rcases din with ‚ü®dpos, dl1‚ü©; constructor <;> linarith\n    have vin : v ‚àà s := by\n      show x + c ‚Ä¢ (z - x) ‚àà s\n      apply Convex.add_smul_sub_mem hs xin zin; simp; simp at cin\n      rcases cin with ‚ü®cpos, cl1‚ü©; constructor <;> linarith\n    apply mono u uin v vin\n    by_contra h\n    have : u - v = 0 := by rw [h]; simp\n    rw [usubv, smul_eq_zero] at this; contrapose! this\n    constructor\n    ¬∑ linarith\n    ¬∑ rw [sub_ne_zero]; symm; exact xney\n  linarith",
        "type": "theorem",
        "filename": "ConvexFunction"
    },
    {
        "theorem_name": "strict_convex_monotone_gradient",
        "theorem_statement": " (hf : ‚àÄ x ‚àà s, HasGradientAt f (f' x) x) (h‚ÇÅ : StrictConvexOn ‚Ñù s f) :\n  ‚àÄ x ‚àà s, ‚àÄ y ‚àà s, x ‚â† y ‚Üí inner (f' x - f' y) (x - y) > (0 : ‚Ñù)",
        "variable": [
            "variable {E : Type*}",
            "variable [NormedAddCommGroup E]",
            "variable [InnerProductSpace ‚Ñù E]",
            "variable [CompleteSpace E]",
            "variable {f : E ‚Üí ‚Ñù}",
            "variable {f' : E ‚Üí E}",
            "variable {s : Set E}"
        ],
        "namespaces": [
            "Set",
            "Topology",
            "Filter",
            "InnerProductSpace"
        ],
        "proof_process": "theorem strict_convex_monotone_gradient (hf : ‚àÄ x ‚àà s, HasGradientAt f (f' x) x) (h‚ÇÅ : StrictConvexOn ‚Ñù s f) :\n    ‚àÄ x ‚àà s, ‚àÄ y ‚àà s, x ‚â† y ‚Üí inner (f' x - f' y) (x - y) > (0 : ‚Ñù) :=\n  by\n  intro x xin y yin xney\n  have convf : ConvexOn ‚Ñù s f := by apply StrictConvexOn.convexOn h‚ÇÅ\n  rw [StrictConvexOn] at h‚ÇÅ\n  rcases h‚ÇÅ with ‚ü®hs, fsconv‚ü©\n  have : inner (f' x - f' y) (x - y) ‚â• (0 : ‚Ñù) := by apply Convex_monotone_gradient' convf hf x xin y yin\n  by_contra h0; push_neg at h0\n  have eq : inner (f' x - f' y) (x - y) = (0 : ‚Ñù) := by linarith\n  have eq1 : f x + inner (f' x) (y - x) ‚â§ f y := by apply Convex_first_order_condition' (hf x xin) convf xin y yin\n  have eq2 : f y + inner (f' y) (x - y) ‚â§ f x := by apply Convex_first_order_condition' (hf y yin) convf yin x xin\n  have eq2' : f y ‚â§ f x + inner (f' x) (y - x) :=\n    by\n    rw [‚Üê add_zero (inner (f' x) (y - x)), ‚Üê eq, inner_sub_left, add_sub, ‚Üê inner_add_right]\n    simp; apply eq2\n  have eq3 : f y - f x = inner (f' x) (y - x) := by linarith\n  have extc : ‚àÉ c : ‚Ñù, c ‚àà Set.Ioo 0 1 ‚àß inner (f' (x + c ‚Ä¢ (y - x))) (y - x) = f y - f x := by\n    apply lagrange hs hf x xin y yin\n  rcases extc with ‚ü®c, cin, e1‚ü©\n  let z : E := x + c ‚Ä¢ (y - x)\n  have zin : z ‚àà s := by\n    apply Convex.add_smul_sub_mem hs xin yin; simp; simp at cin; rcases cin with ‚ü®cpos, cl1‚ü©\n    constructor <;> linarith\n  simp at cin; rcases cin with ‚ü®cpos, cl1‚ü©\n  have eq0 : inner (f' z - f' x) (z - x) = (0 : ‚Ñù) := by simp [z]; rw [inner_smul_right, inner_sub_left, ‚Üê eq3, e1];\n    simp\n  have eq4 : f x + inner (f' x) (z - x) ‚â§ f z := by apply Convex_first_order_condition' (hf x xin) convf xin z zin\n  have eq5 : f z + inner (f' z) (x - z) ‚â§ f x := by apply Convex_first_order_condition' (hf z zin) convf zin x xin\n  have eq5' : f z ‚â§ f x + inner (f' x) (z - x) :=\n    by\n    rw [‚Üê add_zero (inner (f' x) (z - x)), ‚Üê eq0, inner_sub_left]\n    rw [add_sub, add_comm (inner (f' x) (z - x))]\n    rw [‚Üê add_sub, ‚Üê inner_sub_right, sub_self, inner_zero_right, add_zero]\n    rw [‚Üê sub_neg_eq_add, ‚Üê inner_neg_right, neg_sub]; linarith\n  have eq6 : f z = inner (f' x) (z - x) + f x := by linarith\n  have f1 : f z = (1 - c) ‚Ä¢ f x + c ‚Ä¢ f y := by rw [eq6]; simp [z]; rw [inner_smul_right, ‚Üê eq3]; ring_nf\n  have f2 : f z < (1 - c) ‚Ä¢ f x + c ‚Ä¢ f y := by\n    simp\n    let d : ‚Ñù := 1 - c\n    have : x + c ‚Ä¢ (y - x) = d ‚Ä¢ x + c ‚Ä¢ y := by simp [d];\n      rw [smul_sub, sub_smul, one_smul, add_sub, add_sub_right_comm]\n    have cdsum1 : d + c = 1 := by simp [d]\n    have dpos : 0 < d := by linarith\n    simp [z]; rw [this]\n    apply fsconv xin yin xney dpos cpos cdsum1\n  linarith",
        "type": "theorem",
        "filename": "ConvexFunction"
    },
    {
        "theorem_name": "strict_convex_iff_monotone_gradient",
        "theorem_statement": " (hs : Convex ‚Ñù s) (h : ‚àÄ x ‚àà s, HasGradientAt f (f' x) x) :\n  (‚àÄ x ‚àà s, ‚àÄ y ‚àà s, x ‚â† y ‚Üí inner (f' x - f' y) (x - y) > (0 : ‚Ñù)) ‚Üî StrictConvexOn ‚Ñù s f",
        "variable": [
            "variable {E : Type*}",
            "variable [NormedAddCommGroup E]",
            "variable [InnerProductSpace ‚Ñù E]",
            "variable [CompleteSpace E]",
            "variable {f : E ‚Üí ‚Ñù}",
            "variable {f' : E ‚Üí E}",
            "variable {s : Set E}"
        ],
        "namespaces": [
            "Set",
            "Topology",
            "Filter",
            "InnerProductSpace"
        ],
        "proof_process": "theorem strict_convex_iff_monotone_gradient (hs : Convex ‚Ñù s) (h : ‚àÄ x ‚àà s, HasGradientAt f (f' x) x) :\n    (‚àÄ x ‚àà s, ‚àÄ y ‚àà s, x ‚â† y ‚Üí inner (f' x - f' y) (x - y) > (0 : ‚Ñù)) ‚Üî StrictConvexOn ‚Ñù s f :=\n  by\n  constructor\n  exact monotone_gradient_strict_convex hs h\n  exact strict_convex_monotone_gradient h",
        "type": "theorem",
        "filename": "ConvexFunction"
    },
    {
        "theorem_name": "SecondOrderConvex",
        "theorem_statement": " (hs : Convex ‚Ñù s) (ho : IsOpen s) (h1 : ‚àÄ x ‚àà s, HasFDerivAt f (f' x) x) (h2 : ‚àÄ x ‚àà s, HasFDerivAt f' (f'' x) x)\n  (hpos : ‚àÄ x ‚àà s, ‚àÄ v, f'' x v v ‚â• 0) : ConvexOn ‚Ñù s f",
        "variable": [
            "variable {E : Type*}",
            "variable [NormedAddCommGroup E]",
            "variable [NormedSpace ‚Ñù E]",
            "variable {f : E ‚Üí ‚Ñù}",
            "variable {f' : E ‚Üí (E ‚ÜíL[‚Ñù] ‚Ñù)}",
            "variable {f'' : E ‚Üí (E ‚ÜíL[‚Ñù] E ‚ÜíL[‚Ñù] ‚Ñù)}",
            "variable {x y : E}",
            "variable {s : Set E}"
        ],
        "namespaces": [
            "Set",
            "Topology",
            "Filter",
            "InnerProductSpace"
        ],
        "proof_process": "theorem SecondOrderConvex (hs : Convex ‚Ñù s) (ho : IsOpen s) (h1 : ‚àÄ x ‚àà s, HasFDerivAt f (f' x) x)\n    (h2 : ‚àÄ x ‚àà s, HasFDerivAt f' (f'' x) x) (hpos : ‚àÄ x ‚àà s, ‚àÄ v, f'' x v v ‚â• 0) : ConvexOn ‚Ñù s f :=\n  by\n  apply Convex_first_order_condition_inverse h1 hs\n  intro x xs y ys\n  have hx : x ‚àà interior s := mem_interior_iff_mem_nhds.mpr (ho.mem_nhds xs)\n  have hy : y ‚àà interior s := mem_interior_iff_mem_nhds.mpr (ho.mem_nhds ys)\n  have approx : ‚àÉ (v : ‚Ñù), v ‚àà Ioo 0 1 ‚àß f y = f x + (f' x) (y - x) + f'' (x + v ‚Ä¢ (y - x)) (y - x) (y - x) / 2 := by\n    apply expansion_fderiv_second s hs h1 h2 x y hx hy\n  rcases approx with ‚ü®v, ‚ü®hv, eq‚ü©‚ü©\n  have : x + v ‚Ä¢ (y - x) ‚àà s := by\n    apply Convex.add_smul_sub_mem hs xs ys; simp; simp at hv\n    constructor <;> linarith\n  obtain hv := hpos (x + v ‚Ä¢ (y - x)) this (y - x)\n  linarith",
        "type": "theorem",
        "filename": "ConvexFunction"
    },
    {
        "theorem_name": "second_order_convex_univ",
        "theorem_statement": " (h1 : ‚àÄ x, HasFDerivAt f (f' x) x) (h2 : ‚àÄ x, HasFDerivAt f' (f'' x) x) (hpos : ‚àÄ x, ‚àÄ v, f'' x v v ‚â• 0) :\n  ConvexOn ‚Ñù univ f",
        "variable": [
            "variable {E : Type*}",
            "variable [NormedAddCommGroup E]",
            "variable [NormedSpace ‚Ñù E]",
            "variable {f : E ‚Üí ‚Ñù}",
            "variable {f' : E ‚Üí (E ‚ÜíL[‚Ñù] ‚Ñù)}",
            "variable {f'' : E ‚Üí (E ‚ÜíL[‚Ñù] E ‚ÜíL[‚Ñù] ‚Ñù)}",
            "variable {x y : E}",
            "variable {s : Set E}"
        ],
        "namespaces": [
            "Set",
            "Topology",
            "Filter",
            "InnerProductSpace"
        ],
        "proof_process": "theorem second_order_convex_univ (h1 : ‚àÄ x, HasFDerivAt f (f' x) x) (h2 : ‚àÄ x, HasFDerivAt f' (f'' x) x)\n    (hpos : ‚àÄ x, ‚àÄ v, f'' x v v ‚â• 0) : ConvexOn ‚Ñù univ f :=\n  SecondOrderConvex convex_univ isOpen_univ (fun x _ ‚Ü¶ h1 x) (fun x _ ‚Ü¶ h2 x) (fun x _ v ‚Ü¶ hpos x v)",
        "type": "theorem",
        "filename": "ConvexFunction"
    }
]